<div class='profile-container' ng-repeat='profile in vm.profile'>
	<div layout='column' class='profile-header'>
		<div layout='column' layout-align='center center' class='profile-user-info'>
			<img src='../static/images/me.jpg' ng-if="!profile.picture">
			<img ng-if="profile.picture" src='{{profile.picture}}'>
			<p>{{profile.name}}</p>
			<p>{{profile.email}}</p>
		</div>

		<div layout='row' layout-align='start center' class='profile-header-toolbar'>
			<button aria-label='follow user button' ng-if="!vm.selfProfile && !vm.alreadyFollowing" ng-click="vm.follow()">
				<span>Follow</span>
			</button>

			<button aria-label='unfollow user button' ng-if="!vm.selfProfile && vm.alreadyFollowing" ng-click="vm.unfollow()">
				<span>Unfollow</span>
			</button>

			<button aria-label='message user button' ng-if="!vm.selfProfile" ng-click="chat.message($event, profile)" ng-controller="ChatsInboxController as chat">
				<span>Message</span>
			</button>

			<button aria-label='update profile button' ng-if="vm.selfProfile" ng-click="vm.openUpdateProfile()">
				<span>Update Profile</span>
			</button>

			<button ngf-select="vm.uploadImage(file)" ng-model='file' name='file' ngf-pattern="'image/*'" accept="image/*">
				<span>Upload Image</span>
			</button>
		</div>
	</div>

	<md-tabs class='profile-tabs' md-dynamic-height md-stretch-tabs='always' md-swipe-content='true'>
		<md-tab ui-sref='profile.overview' md-active="vm.stateName=='profile.overview'">
			<md-tab-label layout='column'>
				<span>Overview</span>
			</md-tab-label>
		</md-tab>

		<md-tab ui-sref='profile.threads' md-active="vm.stateName=='profile.threads'">
			<md-tab-label layout='column'>
				<span>Threads</span>
			</md-tab-label>
		</md-tab>

		<md-tab ui-sref='profile.comments' md-active="vm.stateName=='profile.comments'">
			<md-tab-label layout='column'>
				<span>Comments</span>
			</md-tab-label>
		</md-tab>

		<md-tab ui-sref='profile.saved' md-active="vm.stateName=='profile.saved'">
			<md-tab-label layout='column'>
				<span>Saved</span>
			</md-tab-label>
		</md-tab>
	</md-tabs>

	<div class='profile-tab-container' layout='column'>
		<div id='animation-wrapper' flex>
			<div ui-view class='profile-view-container' layout='column'></div>
		</div>
	</div>
</div>