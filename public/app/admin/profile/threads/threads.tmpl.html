<div class='profile-threads-container'>
	<div class='profile-threads-body' layout='column'>
		<div>
			<div class='profile-threads-header' layout='row' layout-align='none center'>
				<h3>Threads</h3>
				<span flex></span>
				<div class='profile-threads-search-icon' ng-class="{'is-serching': vm.threadsSearch.hasFocus}" layout='column' layout-align='center center'>
					<i class='icon-search'></i>
				</div>

				<div class='profile-threads-search' ng-class="{'has-focus': vm.threadsSearch.hasFocus}">
					<label for='userThreadsSearch'>Search . . .</label>
					<input name='search' id='userThreadsSearch' ng-model='vm.timelineFilter' ng-focus="vm.threadsSearch.hasFocus=true" ng-blur="vm.threadsSearch.hasFocus=false">
				</div>
			</div>

			<md-list>
				<md-list-item class='md-2-line' ng-repeat='thread in vm.timeline'>
					<div class='md-list-item-text'>
						<div layout='row'>
							<div layout='column' flex='15' layout-align='center center' class='profile-threads-user'>
								<img src='{{thread.creator.picture}}'>
								<p>{{thread.creator.name}}</p>
							</div>

							<div layout='column' flex ui-sref="streams.thread({streamId: thread.stream._id, threadId: thread._id})" class='profile-threads-title'>
								<p>{{thread.title}}</p>
								<div class='profile-threads-title-overlay'>
									<p>{{thread.content}}</p>
								</div>
							</div>

							<div layout='column' flex='10' layout-align='center center' class='profile-threads-score-container'>
								<i class='icon-expand_less' ng-class="{'upvoted': thread.upvoted}"></i>
								<span ng-class="{'positive': thread.score >= 1, 'negative': thread.score <= -1}">{{thread.score}}</span>
								<i class='icon-expand_more' ng-class="{'downvoted': thread.downvoted}"></i>
							</div>
						</div>

						<div layout='row' layout-align='none center' class='profile-threads-thread-toolbar'>
							<button class='profile-threads-thread-toolbar-item'>
								<i class='icon-bubble'></i>
								<span>{{thread.comments.length}} Comment<span ng-if="thread.comments.length > 1 || thread.comments.length == 0">s</span></span>
							</button>

							<button class='profile-threads-thread-toolbar-item'>
								<i class='icon-favorite_border' ng-class="{'saved': thread.saved}"></i>
								<span>{{thread.saves.length}} Save<span ng-if="thread.saves.length > 1 || thread.saves.length == 0">s</span></span>
							</button>

							<span flex></span>

							<button class='profile-threads-thread-created'>
								<span>{{thread.created | opCalendar}}</span>
							</button>
						</div>
					</div>
				</md-list-item>
			</md-list>

			<div class='profile-threads-no-threads' ng-if="!vm.timeline.length && !vm.timelineFilter" layout='row' layout-align='center center'>
				<p>{{profile.name}} has not created any threads</p>
			</div>

			<div class='profile-threads-load-more' ng-if="!vm.noMoreThreads && !vm.timelineFilter" layout='row' layout-align='end center'>
				<button aria-label='load more threads' ng-click="vm.loadMore()">
					<span>Load More</span>
					<i class='icon-expand_more'></i>
				</button>
			</div>

			<div class='profile-threads-search-text' ng-if="!vm.timeline.length && vm.timelineFilter" layout='row' layout-align='center center'>
				<p>Unraveling the Threads <span>. . .</span></p>
			</div>

			<div class='profile-no-more-threads' ng-if="vm.noMoreThreads && vm.timelinePage >= 1" layout='row' layout-align='center center'>
				<p>There are no more threads to load</p>
			</div>
		</div>
	</div>
</div>
