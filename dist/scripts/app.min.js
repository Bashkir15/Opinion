webpackJsonp([1],[function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var s=a(2),n=r(s),i=a(114),o=r(i),c=a(112);r(c);a(113),a(209),a(150),a(172),a(128);var l=a(116),d=r(l),u=a(118),m=r(u),h=a(119),p=r(h),f=[o.default,"ngMaterial","ngAnimate","angularMoment","ngFileUpload","app.config","app.pages","app.components"];window.app=n.default.module("app",f),n.default.module("app").config(d.default),n.default.module("app").run(m.default),n.default.module("app").service("Websocket",p.default),n.default.bootstrap(document,["app"],{strictDi:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){"ngInject";a.interceptors.push(i.default),e.state("app",{abstract:!0,templateUrl:"./app/pages/app-layout.html"}),t.otherwise("/")}s.$inject=["$stateProvider","$urlRouterProvider","$httpProvider"],Object.defineProperty(t,"__esModule",{value:!0});var n=a(151),i=r(n);t.default=s},,function(e,t){"use strict";function a(e){"ngInject";e.put("public/index.html",'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Opinionated</title><link href="https://fonts.googleapis.com/css?family=Open+Sans:300|Raleway:400,600" rel="stylesheet"><link rel="stylesheet" href="./mdi/css/materialdesignicons.css"><link rel="stylesheet" href="./angular-material/angular-material.css"><link rel="stylesheet" href="./styles/main.min.css"></head><body ng-cloak><div id="page-loading" class="page-loading"><img src="./static/uploads/cat-loader.gif"><p class="page-loading-text">Just a second, you\'ll only have to do this once</p><p class="page-loaded-text">The party is ready!</p></div><div ui-view class="main-ui-view"></div><script type="text/javascript">\n\t\t\tdocument.addEventListener(\'DOMContentLoaded\', function (event) {\n\t\t\t\tvar element = document.getElementById(\'page-loading\');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\telement.classList.add(\'page-load-timeout\');\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\telement.parentNode.removeChild(element);\n\t\t\t\t\t}, 1000)\n\t\t\t\t}, 1000);\n\t\t\t});\n\t\t</script><script src="./socket.io-client/socket.io.js"></script><script src="./scripts/vendors.min.js"></script><script src="./scripts/app.min.js"></script></body></html>'),e.put("public/app/pages/app-layout.html",'<app-nav></app-nav><md-content class="view-content-holder" ui-view></md-content>'),e.put("public/app/pages/chats/chats.tmpl.html",'<div class="chats-page-container"><div><div class="chats-page-header"><h3>Chats</h3><button ui-sref="app.chats.inbox" ui-sref-active="active"><span>Inbox</span></button> <button ui-sref="app.chats.saved" ui-sref-active="active"><span>Saved</span></button> <button ui-sref="app.chats.trash" ui-sref-active="active"><span>Trash</span></button></div></div><div class="chats-views" ui-view></div></div>'),e.put("public/app/pages/home/home.html",'<thread-list threads="$ctrl.threads"></thread-list>'),e.put("public/app/pages/profile/profile.tmpl.html",'<div class="profile-page-container"><profile-header user="$ctrl.user" class="profile-header-component"></profile-header><md-tabs class="profile-tabs" md-dynamic-height md-swipe-content="true"><md-tab ui-sref="app.profile.overview({userId: $ctrl.user._id})" md-active="$ctrl.currentState == \'app.profile.overview\'"><md-tab-label><span>Overview</span></md-tab-label></md-tab><md-tab ui-sref="app.profile.threads({userId: $ctrl.user._id})" md-active="$ctrl.currentState == \'app.profile.threads\'"><md-tab-label><span>Threads</span></md-tab-label></md-tab><md-tab ui-sref="app.profile.comments({userId: $ctrl.user._id})" md-active="$ctrl.currentState == \'app.profile.comments\'"><md-tab-label><span>Comments</span></md-tab-label></md-tab><md-tab ui-sref="app.profile.saved({userId: $ctrl.user._id})" md-active="$ctrl.currentState == \'app.profile.saved\'"><md-tab-label><span>Saved</span></md-tab-label></md-tab><md-tab ui-sref="app.profile.activity({userId: $ctrl.user._id})" md-active="$ctrl.currentState == \'app.profile.activity\'"><md-tab-label><span>Activity</span></md-tab-label></md-tab></md-tabs><div class="profile-views" ui-view></div></div>'),e.put("public/app/pages/auth/dialogs/403.dialog.html",'<md-dialog class="unauth-dialog-container"><div class="unauth-dialog-header"><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div><p>Sorry, you need to be logged in to do that</p><md-tabs class="unauth-dialog-tabs" md-swipe-content="true" md-stretch-tabs="always"><md-tab label="signup"><div class="unauth-dialog-signup"><signup-form></signup-form></div></md-tab><md-tab label="login"><div class="unauth-dialog-login"><login-form></login-form></div></md-tab></md-tabs></md-dialog>'),e.put("public/app/pages/auth/profileInfo/update-profile.html",'<div class="update-profile-page-container"><div class="update-profile-page-header"><h3>{{$ctrl.user.username}}: Your profile awaits</h3><button ng-click="$ctrl.skip()"><span>Skip</span></button></div><div class="update-profile-component-container"><update-profile user="$ctrl.user"></update-profile></div></div>'),e.put("public/app/pages/auth/login/login.html",'<div class="auth-page-container"><header><h1>Login</h1></header><login-form class="auth-form"></login-form></div>'),e.put("public/app/pages/auth/reset/reset.html",'<md-dialog class="auth-dialog"><md-dialog-content><div class="auth-dialog-header"><div><h3>Reset password</h3></div><div><button ng-click="$ctrl.close()"><span class="mdi mdi-close"></span></button></div></div><div class="auth-dialog-body" ng-if="!$ctrl.tokenSent"><p>Enter your email here and your reset infomation will be sent there</p><div class="auth-dialog-form"><form name="$ctrl.resetForm" novalidate><div class="auth-form-wraper auth-dialog-form" ng-class="{\'has-focus\': $ctrl.resetForm.email.hasFocus, \'has-success\': $ctrl.resetForm.email.$valid, \'has-error\': $ctrl.resetForm.email.$error && $ctrl.resetForm.email.$touched && !$ctrl.resetForm.email.$valid, \'is-empty\': !$ctrl.resetForm.email.$viewValue}"><label>Email</label> <input type="email" name="email" ng-model="$ctrl.data.email" required ng-focus="$ctrl.resetForm.email.hasFocus=true" ng-blur="$ctrl.resetForm.email.hasFocus=false"></div></form></div></div><div class="auth-dialog-body" ng-if="$ctrl.tokenSent"><p>Please copy and paste the code from your email here, along with your new password</p><form name="$ctrl.confirmReset" novalidate><div class="auth-form-wrapper"><label>Reset Code</label> <input type="text" name="token" ng-model="$ctrl.data.token"></div><div class="auth-form-wrapper"><label>New Password</label> <input type="password" name="password" ng-model="$ctrl.data.password"></div></form></div></md-dialog-content><md-dialog-actions><div class="auth-dialog-actions" ng-if="!$ctrl.tokenSent"><button ng-click="$ctrl.generateReset()"><span>Send Email</span></button> <button ng-click="$ctrl.close()"><span>I Remembered</span></button></div><div class="auth-dialog-actions" ng-if="$ctrl.tokenSent"><button ng-click="$ctrl.attemptReset()"><span>Reset</span></button></div></md-dialog-actions></md-dialog>'),e.put("public/app/pages/auth/signup/signup.html",'<div class="auth-page-container"><header><h1>Signup</h1></header><signup-form class="auth-form"></signup-form></div>'),e.put("public/app/pages/chats/inbox/inbox.html",'<div class="chats-inbox-container"><div class="chats-inbox-header"><p>Inbox</p><button ng-click="$ctrl.loadMore()" ng-if="!$ctrl.noMoreChats"><span>Load More</span></button></div><div class="chats-nested-container"><chats-list chats="$ctrl.chats" class="chats-list-component-container"></chats-list><div ui-view class="chats-messages-view"></div></div></div>'),e.put("public/app/pages/chats/messages/messages.html",'<div class="chats-messages-container"><div class="chats-messages-options"><button ng-click="$ctrl.closeMessage()"><span>Back</span></button></div><chat-messages messages="$ctrl.messages" chat="$ctrl.chat"></chat-messages></div>'),e.put("public/app/pages/chats/saved/saved.html",'<div class="chats-inbox-container"><div class="chats-inbox-header"><p>Saved</p><button ng-click="$ctrl.loadMore()" ng-if="!$ctrl.noMoreChats"><span>Load More</span></button></div><div class="chats-nested-container"><chats-list chats="$ctrl.chats" class="chats-list-component-container"></chats-list><div ui-view class="chats-messages-view"></div></div></div>'),e.put("public/app/pages/chats/trash/trash.html",'<div class="chats-inbox-container"><div class="chats-inbox-header"><p>Trash</p><button ng-click="$ctrl.loadMore()" ng-if="!$ctrl.noMoreChats"><span>Load More</span></button></div><div class="chats-nested-container"><chats-list chats="$ctrl.chats" class="chats-list-component-container"></chats-list><div ui-view class="chats-messages-view"></div></div></div>'),e.put("public/app/pages/streams/list/list.html",'<div class="forum-page-container"><header><h1>Streams</h1></header><p>Opinionated is home to over {{$ctrl.streamCount}} different Stream<span ng-if="$ctrl.streamCount.length > 1 || $ctrl.streamCount.length == 0">s</span>, each one with a different purpose and function. There is always something to be discussed or found here. If you don\'t see a Stream for what you want, feel free to create your own! Remember though, being a moderator can be a hefty task</p><div class="forum-search-container"><div ng-class="{\'has-focus\': $ctrl.search.hasFocus}"><label class="mdi mdi-magnify"></label> <input type="text" name="search" ng-model="$ctrl.streamsSearch" ng-change="$ctrl.search()" ng-focus="$ctrl.search.hasFocus=true" ng-blur="$ctrl.search.hasFocus=false"><md-menu md-offset="-15 60"><button class="large-mobile" ng-click="$mdOpenMenu()"><span>Filter</span></button><md-menu-content class="forum-search-dropdown"><md-menu-item><button ng-click="$ctrl.byThreads()"><span>Threads</span></button></md-menu-item><md-menu-item><button ng-click="$ctrl.bySubscribers()"><span>Subscribers</span></button></md-menu-item><md-menu-item><button ng-click="$ctrl.byDate()"><span>Date</span></button></md-menu-item></md-menu-content></md-menu></div></div><streams-list streams="$ctrl.streams"></streams-list><div class="load-more-button streams-load-more-button" ng-if="!$ctrl.noMoreStreams"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div></div>'),e.put("public/app/pages/streams/single/single.html",'<div class="forum-page-container single-stream-container"><header><h1>{{$ctrl.stream.name}}</h1></header><div class="forum-header-image"><img ng-src="{{$ctrl.stream.picture}}" ng-if="$ctrl.currentUser == $ctrl.stream.creator._id" ngf-select="$ctrl.uploadImage(file)" ng-model="file" name="file" ngf-pattern="\'image/*\'" accept="image/"> <img ng-src="{{$ctrl.stream.picture}}" ng-if="$ctrl.currentUser != $ctrl.stream.creator._id"></div><p>{{$ctrl.stream.description}}</p><div class="forum-stats"><div><span class="mdi mdi-heart-outline"></span><p>{{$ctrl.stream.subscribers.length}} Subscriber<span ng-if="$ctrl.stream.subscribers.length > 1 || $ctrl.stream.subscribers.length == 0">s</span></p></div><div><span class="mdi mdi-comment-outline"></span><p>{{$ctrl.stream.threads.length}} Thread<span ng-if="$ctrl.stream.threads.length > 1 || $ctrl.stream.threads.length == 0">s</span></p></div></div><div class="forum-search-container"><div ng-class="{\'has-focus\': $ctrl.search.hasFocus}"><label class="mdi mdi-magnify"></label> <input type="text" name="search" ng-model="$ctrl.threadsSearch" ng-change="$ctrl.search()" ng-focus="$ctrl.search.hasFocus=true" ng-blur="$ctrl.search.hasFocus=false"><md-menu md-offset="-15 60"><button class="large-mobile" ng-click="$mdOpenMenu()"><span>Filter</span></button><md-menu-content class="forum-search-dropdown"><md-menu-item><button ng-click="$ctrl.byScore()"><span>Score</span></button></md-menu-item><md-menu-item><button ng-click="$ctrl.byComments()"><span>Comments</span></button></md-menu-item><md-menu-item><button ng-click="$ctrl.bySaves()"><span>Saves</span></button></md-menu-item><md-menu-item><button ng-click="$ctrl.byDate()"><span>Date</span></button></md-menu-item></md-menu-content></md-menu></div></div><thread-list threads="$ctrl.threads" stream="$ctrl.stream" class="thread-list-component"></thread-list><div class="load-more-button" ng-if="!$ctrl.noMoreThreads"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div></div>'),e.put("public/app/pages/streams/subscribed/subscribed.html",'<div class="streams-subscribed-container"><header><h1>Your Streams</h1></header><div class="streams-subscribed-list-container"><streams-list streams="$ctrl.streams"></streams-list></div><div class="load-more-button streams-load-more-button" ng-if="!$ctrl.noMoreStreams"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div></div>'),e.put("public/app/pages/streams/trending/trending.html",'<div class="trending-streams-container"><header><h1>Hot Streams</h1></header><p>These are the most popular streams on Opinionable</p><div ng-repeat="item in $ctrl.streams | orderBy: \'-subscribers.length\'" class="trending-streams-repeat"><trending-stream stream="item"></trending-stream></div><div class="load-more-button streams-load-more-button" ng-if="!$ctrl.noMoreStreams"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div></div>'),e.put("public/app/pages/profile/activity/activity.html",'<div class="activity-page-container"><div class="activity-list-container"><div ng-repeat="item in $ctrl.activities"><div><span ng-if="item.action == \'liked\'">Liked this thread: <span ui-sref="app.singleThread({streamId: item.thread.stream, threadId: item.thread._id})">{{item.thread.title}}</span></span> <span ng-if="item.action == \'disliked\'">Disliked this thread: <span ui-sref="app.singleThread({streamId: item.thread.stream, threadId: item.thread._id})">{{item.thread.title}}</span></span> <span ng-if="item.action == \'saved\'">Saved this thread: <span ui-sref="app.singleThread({streamId: item.thread.stream, threadId: item.thread._id})">{{item.thread.title}}</span></span> <span ng-if="item.action ==\'unsaved\'">Unsaved this thread: <span ui-sref="app.singleThread({streamId: item.thread.stream, threadId: item.thread._id})">{{item.thread.title}}</span></span> <span ng-if="item.action ==\'new thread\'">Create a new thread: <span ui-sref="app.singleThread({streamId: item.thread.stream, threadId: item.thread._id})">{{item.thread.title}}</span></span> <span ng-if="item.action ==\'followed\'">Followed: <span ui-sref="app.profile.overview({userId: item.user._id})">{{item.user.name}}</span></span> <span ng-if="item.action ==\'unfollowed\'">Unfollowed: <span ui-sref="app.profile.overview({userId: item.user._id})">{{item.user.name}}</span></span> <span ng-if="item.action == \'new stream\'">Created a new stream: <span ui-sref="app.singleStream({streamId: item.stream._id})">{{item.stream.name}}</span></span> <span ng-if="item.action == \'subscribed\'">Subscribed to the stream: <span ui-sref="app.singleStream({streamId: item.stream._id})">{{item.stream.name}}</span></span> <span ng-if="item.action == \'unsubscribed\'">Unubscribed from the stream: <span ui-sref="app.singleStream({streamId: item.stream._id})">{{item.stream.name}}</span></span></div><div><span am-time-ago="item.created"></span></div></div></div></div>'),e.put("public/app/pages/profile/dialogs/search.html",'<md-dialog class="users-search-dialog"><md-dialog-content><div class="users-search-dialog-header"><h3>Find a user</h3><button ng-click="$ctrl.close()" aria-label="close user search dialog"><i class="mdi mdi-close"></i></button></div><div class="users-search-body"><md-autocomplete md-search-text="$ctrl.search" md-items="item in $ctrl.items" md-search-text-change="$ctrl.doSearch($ctrl.search)" md-item-text="item.name" md-item-value="item._id" md-floating-label="search" md-selected-item-change="$ctrl.goToUser(item)" class="users-search-autocomplete"><md-item-template class="users-search-template"><div class="users-search-results"><img ng-src="{{item.picture}}" ng-if="item.picture"> <span md-highlight-text="search">{{item.name}} /@{{item.username}}</span></div></md-item-template></md-autocomplete></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/profile/comments/comments.html",'<comments-list comments="$ctrl.comments"></comments-list><div class="load-more-button" ng-if="!$ctrl.noMoreComments"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div>'),e.put("public/app/pages/profile/overview/overview.html",'<profile-overview user="$ctrl.user" class="overview-component-container"></profile-overview>'),e.put("public/app/pages/profile/saved/saved.html",'<div class="profile-saved-container"><div class="profile-saved-items"><md-tabs class="profile-saved-tabs" md-dynamic-height><md-tab label="threads"><thread-list threads="$ctrl.threads"></thread-list></md-tab><md-tab label="comments"><comments-list comments="$ctrl.comments"></comments-list></md-tab></md-tabs></div></div>'),e.put("public/app/pages/profile/threads/threads.html",'<thread-list threads="$ctrl.threads"></thread-list><div class="load-more-button" ng-if="!$ctrl.noMoreThreads"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div>'),e.put("public/app/pages/threads/single/single.html",'<div class="single-thread-page-container"><div class="single-thread-thread-container"><single-thread thread="$ctrl.thread" class="single-thread-thread-component"></single-thread></div><div class="forum-search-container"><div ng-class="{\'has-focus\': $ctrl.search.hasFocus}"><label class="mdi mdi-magnify"></label> <input type="text" name="search" ng-model="$ctrl.commentsSearch" ng-change="$ctrl.search()" ng-focus="$ctrl.search.hasFocus=true" ng-blur="$ctrl.search.hasFocus=false"><md-menu md-offset="-15 60"><button class="large-mobile" ng-click="$mdOpenMenu()"><span>Filter</span></button><md-menu-content class="forum-search-dropdown"><md-menu-item><button><span>Score</span></button></md-menu-item><md-menu-item><button><span>Saves</span></button></md-menu-item><md-menu-item><button><span>Date</span></button></md-menu-item></md-menu-content></md-menu></div></div><comments-list comments="$ctrl.comments" class="comments-list-component"></comments-list><div class="load-more-button" ng-if="!$ctrl.noMoreComments"><button ng-click="$ctrl.loadMore()"><span>Load More</span></button></div></div>'),e.put("public/app/components/auth/login/login.component.html",'<div class="auth-form-container"><form name="$ctrl.loginForm" ng-submit="$ctrl.login($ctrl.loginForm.$valid)" novalidate><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.loginForm.email.hasFocus, \'has-success\': $ctrl.loginForm.email.$valid, \'has-error\': $ctrl.loginForm.email.$error && $ctrl.loginForm.email.$touched && !$ctrl.loginForm.email.$valid, \'is-empty\': !$ctrl.loginForm.email.$viewValue}"><label>Email</label> <input type="email" name="email" ng-model="$ctrl.data.email" required ng-focus="$ctrl.loginForm.email.hasFocus=true" , ng-blur="$ctrl.loginForm.email.hasFocus=false"><div ng-messages="$ctrl.loginForm.email.$error" ng-if="$ctrl.loginForm.email.$touched && !$ctrl.loginForm.email.$valid" class="auth-form-error-container"><div ng-message="required"><span>Please provide an email</span></div></div></div><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.loginForm.password.hasFocus, \'has-success\': $ctrl.loginForm.password.$valid, \'has-error\': $ctrl.loginForm.password.$error && $ctrl.loginForm.password.$touched && !$ctrl.loginForm.password.$valid, \'is-empty\': !$ctrl.loginForm.password.$viewValue}"><label>Password</label> <input type="password" name="password" ng-model="$ctrl.data.password" required ng-focus="$ctrl.loginForm.password.hasFocus=true" ng-blur="$ctrl.loginForm.password.hasFocus=false"><div ng-messages="$ctrl.loginForm.password.$error" ng-if="$ctrl.loginForm.password.$touched && !$ctrl.loginForm.password.$valid" class="auth-form-error-container"><div ng-message="required"><span>Sorry, you need your password</span></div></div></div><div class="auth-form-utilities"><div><md-checkbox ng-model="$ctrl.remember" md-true-value="\'isRemembered\'" ng-if="!$ctrl.isRemembered">Remember Me</md-checkbox><md-checkbox ng-model="$ctrl.forget" md-true-value="\'isForgotten\'" ng-if="$ctrl.isRemembered">Forget Me</md-checkbox></div><div><button ng-click="$ctrl.openPasswordReset()" type="button"><span>Forgot Password</span></button></div></div><div class="auth-form-submit"><button type="submit" aria-label="submit login form" ng-class="{\'form-valid\': $ctrl.loginForm.$valid}"><span>Login</span></button></div><div class="auth-form-other-link"><p>Don\'t have an account yet?</p><a ui-sref="app.signup">Signup Here</a></div></form></div>'),e.put("public/app/components/auth/signup/signup.component.html",'<div class="auth-form-container"><form name="$ctrl.signupForm" ng-submit="$ctrl.signup($ctrl.signupForm.$valid)" novalidate><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.signupForm.name.hasFocus, \'has-success\': $ctrl.signupForm.name.$valid, \'has-error\': $ctrl.signupForm.name.$error && $ctrl.signupForm.name.$touched && !$ctrl.signupForm.name.$valid, \'is-empty\': !$ctrl.signupForm.name.$viewValue}"><label>Name</label> <input type="text" name="name" ng-model="$ctrl.data.name" required ng-focus="$ctrl.signupForm.name.hasFocus=true" ng-blur="$ctrl.signupForm.name.hasFocus=false"><div ng-messages="$ctrl.signupForm.name.$error" ng-if="$ctrl.signupForm.name.$touched && !$ctrl.signupForm.name.$valid" class="auth-form-error-container"><div ng-message="required"><span>Sorry, your name is required</span></div></div></div><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.signupForm.username.hasFocus, \'has-success\': $ctrl.signupForm.username.$valid, \'has-error\': $ctrl.signupForm.username.$error && $ctrl.signupForm.username.$touched && !$ctrl.signupForm.username.$valid, \'is-empty\': !$ctrl.signupForm.username.$viewValue}"><label>Username</label> <input type="text" name="username" ng-model="$ctrl.data.username" required ng-focus="$ctrl.signupForm.username.hasFocus=true" ng-blur="$ctrl.signupForm.username.hasFocus=false"><div ng-messages="$ctrl.signupForm.username.$error" ng-if="$ctrl.signupForm.username.$touched && !$ctrl.signupForm.username.$valid" class="auth-form-error-container"><div ng-message="required"><span>Sorry, your username is required</span></div></div></div><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.signupForm.email.hasFocus, \'has-success\': $ctrl.signupForm.email.$valid, \'has-error\': $ctrl.signupForm.email.$error && $ctrl.signupForm.email.$touched && !$ctrl.signupForm.email.$valid, \'is-empty\': !$ctrl.signupForm.email.$viewValue}"><label>Email</label> <input type="email" name="email" ng-model="$ctrl.data.email" required ng-focus="$ctrl.signupForm.email.hasFocus=true" ng-blur="$ctrl.signupForm.email.hasFocus=false"><div ng-messages="$ctrl.signupForm.email.$error" ng-if="$ctrl.signupForm.email.$touched && !$ctrl.signupForm.email.$valid" class="auth-form-error-container"><div ng-message="required"><span>Sorry, your email is required</span></div></div></div><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.signupForm.password.hasFocus, \'has-success\': $ctrl.signupForm.password.$valid, \'has-error\': $ctrl.signupForm.password.$error && $ctrl.signupForm.password.$touched && !$ctrl.signupForm.password.$valid, \'is-empty\': !$ctrl.signupForm.password.$viewValue}"><label>Password</label> <input type="password" name="password" ng-model="$ctrl.data.password" required ng-focus="$ctrl.signupForm.password.hasFocus=true" ng-blur="$ctrl.signupForm.password.hasFocus=false"><div ng-messages="$ctrl.signupForm.password.$error" ng-if="$ctrl.signupForm.password.$touched && !$ctrl.signupForm.password.$valid" class="auth-form-error-container"><div ng-message="required"><span>Sorry, you need a password</span></div></div></div><div class="auth-form-wrapper" ng-class="{\'has-focus\': $ctrl.signupForm.confirm.hasFocus, \'has-success\': $ctrl.signupForm.confirm.$valid, \'has-error\': $ctrl.signupForm.confirm.$error && $ctrl.signupForm.confirm.$touched && !$ctrl.signupForm.confirm.$valid, \'is-empty\': !$ctrl.signupForm.confirm.$viewValue}"><label>Confirm Password</label> <input type="password" name="confirm" ng-model="$ctrl.data.confirm" required ng-focus="$ctrl.signupForm.confirm.hasFocus=true" ng-blur="$ctrl.signupForm.confirm.hasFocus=false" compare-to="$ctrl.data.password"><div ng-messages="$ctrl.signupForm.confirm.$error" ng-if="!$ctrl.signupForm.confirm.$valid && $ctrl.signupForm.confirm.$touched" class="auth-form-error-container"><div ng-message="compareTo"><span>Sorry, your passwords do not match</span></div><div ng-message="required"><span>Sorry, you need to confirm your password</span></div></div></div><div class="auth-form-submit"><button type="submit" aria-label="submit signup form" ng-class="{\'form-valid\': $ctrl.signupForm.$valid}"><span>Sign up!</span></button></div><div class="auth-form-other-link"><p>Already have an account?</p><a ui-sref="app.login">Login Here</a></div></form></div>'),e.put("public/app/components/auth/updateProfile/update.profile.html",'<div class="update-profile-component"><form name="$ctrl.updateProfileForm" ng-submit="$ctrl.updateProfile($ctrl.updateProfileForm.$valid)" novalidate><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.updateProfileForm.gender.hasFocus, \'has-success\': $ctrl.updateProfileForm.gender.$valid && $ctrl.updateProfileForm.gender.$touched, \'is-blank\': !$ctrl.updateProfileForm.gender.$viewValue}"><label>Gender</label> <input type="text" name="gender" ng-model="$ctrl.data.gender" ng-focus="$ctrl.updateProfileForm.gender.hasFocus=true" ng-blur="$ctrl.updateProfileForm.gender.hasFocus=false"></div><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.updateProfileForm.phone.hasFocus, \'has-success\': $ctrl.updateProfileForm.phone.$valid && $ctrl.updateProfileForm.phone.$touched, \'is-blank\': !$ctrl.updateProfileForm.phone.$viewValue}"><label>Phone</label> <input type="phone" name="phone" ng-model="$ctrl.data.phone" ng-focus="$ctrl.updateProfileForm.phone.hasFocus=true" ng-blur="$ctrl.updateProfileForm.phone.hasFocus=false"></div><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.updateProfileForm.occupation.hasFocus, \'has-success\': $ctrl.updateProfileForm.occupation.$valid && $ctrl.updateProfileForm.occupation.$touched, \'is-blank\': !$ctrl.updateProfileForm.occupation.$viewValue}"><label>Occupation</label> <input type="text" name="occupation" ng-model="$ctrl.data.occupation" ng-focus="$ctrl.updateProfileForm.occupation.hasFocus=true" ng-blur="$ctrl.updateProfileForm.occupation.hasFocus=false"></div><div class="update-profile-wrapper update-profile-textarea-wrapper" ng-class="{\'has-focus\': $ctrl.updateProfileForm.interests.hasFocus, \'has-success\': $ctrl.updateProfileForm.interests.$valid && $ctrl.updateProfileForm.interests.$touched, \'is-blank\': !$ctrl.updateProfileForm.interests.$viewValue}"><label>Interests</label> <textarea type="text" name="interests" ng-model="$ctrl.data.interests" rows="7" ng-focus="$ctrl.updateProfileForm.interests.hasFocus=true" ng-blur="$ctrl.updateProfileForm.interests.hasFocus=false"></textarea></div><div class="update-profile-wrapper update-profile-textarea-wrapper" ng-class="{\'has-focus\': $ctrl.updateProfileForm.bio.hasFocus, \'has-success\': $ctrl.updateProfileForm.bio.$valid && $ctrl.updateProfileForm.bio.$touched, \'is-blank\': !$ctrl.updateProfileForm.bio.$viewValue}"><label>Bio</label> <textarea type="text" name="bio" ng-model="$ctrl.data.bio" rows="7" ng-focus="$ctrl.updateProfileForm.bio.hasFocus=true" ng-blur="$ctrl.updateProfileForm.bio.hasFocus=false"></textarea></div><div class="update-profile-wrapper update-profile-image-wrapper"><button type="button" ngf-select="$ctrl.uploadImage(file)" ng-model="file" name="file" ngf-pattern="\'image/*\'" accept="image/"><span>Upload Image</span></button></div><div class="update-profile-submit"><button type="submit" aria-label="Subit update profile form"><span>Submit</span></button></div></form></div>'),e.put("public/app/components/chats/list/list.html",'<div class="chats-list-component" ng-if="!$ctrl.hideChats"><div ng-repeat="item in $ctrl.chats"><single-chat chat="item"></single-chat></div><div ng-if="!$ctrl.chats.length" class="no-chats"><p>You have no chats yet. You should message someone</p></div></div>'),e.put("public/app/components/chats/messages/messages.html",'<div class="chats-messages-component"><md-content class="chats-messages-body" id="scrollContainer"><div ng-repeat="item in $ctrl.messages | orderBy: \'created\'" class="chats-message-repeat" ng-class="{\'current-user\': $ctrl.userId == item.creator._id}"><div class="chats-message"><img class="chats-avatar" ng-src="{{item.creator.picture}}" ui-sref="app.profile.overview({userId: item.creator._id})" ng-class="{\'online\': item.creator.loggedIn}"><div class="chats-bubble"><span>{{item.message}}</span><div class="chats-bubble-corner"></div></div></div><div class="chats-message-info"><span>{{item.creator.username}}</span> <span am-time-ago="item.created"></span></div></div></md-content><div class="chats-messages-form"><form name="$ctrl.chatForm" novalidate><div class="chats-form-wrapper" ng-class="{\'has-focus\': $ctrl.chatForm.message.hasFocus}"><label>Message</label> <textarea ng-model="$ctrl.data.message" ng-keyup="$event.keyCode == 13 && $ctrl.sendMessage($ctrl.chatForm.$valid)" name="message" required ng-focus="$ctrl.chatForm.message.hasFocus=true" ng-blur="$ctrl.chatForm.message.hasFocus=false"></textarea></div></form></div></div>'),e.put("public/app/components/chats/single/single.html",'<div class="chats-single-container" ng-if="!$ctrl.chat.isDeleted"><div class="chats-single-single" ng-click="$ctrl.goToChat($ctrl.chat)"><div class="chats-single-header"><img ng-if="$ctrl.currentUser == $ctrl.chat.creator._id" ng-src="{{$ctrl.chat.participants[1].picture}}" ng-class="{\'online\': $ctrl.chat.participants[1].loggedIn}"> <img ng-if="!$ctrl.currentUser == $ctrl.chat.creator._id" ng-src="{{$ctrl.chat.participants[0].picture}}" ng-class="{\'online\': $ctrl.chat.participants[0].loggedIn}"><div class="chats-user-info"><h4 ng-if="$ctrl.currentUser == $ctrl.chat.creator._id">{{$ctrl.chat.participants[1].username}}</h4><h4 ng-if="$ctrl.currentUser != $ctrl.chat.creator._id">{{$ctrl.chat.participants[0].username}}</h4><p am-time-ago="$ctrl.chat.messages[0].created"></p></div></div><div class="chats-single-body"><p>{{$ctrl.chat.messages[0].message}}</p></div></div><div class="chats-single-actions"><div><button ng-click="$ctrl.toggleSave($ctrl.chat)"><i class="mdi mdi-heart-outline" ng-class="{\'saved\': $ctrl.chat.saved}"></i></button> <button ng-click="$ctrl.toggleRemove($ctrl.chat)"><i class="mdi mdi-delete" ng-class="{\'removed\': $ctrl.chat.isDeleted}"></i></button></div></div></div><div class="chats-single-container chats-trash-single-container" ng-if="$ctrl.chat.isDeleted && !$ctrl.hideRemoved"><div class="chats-single-single" ng-click="$ctrl.goToChat($ctrl.chat)"><div class="chats-single-header"><div></div><div class="chats-user-info"><h4>{{$ctrl.chat.participants[1].username}}</h4><p am-time-ago="$ctrl.chat.messages[0].created"></p></div></div><div class="chats-single-body"><p>{{$ctrl.chat.messages[0].message}}</p></div></div><div class="chats-single-actions"><div><button ng-click="$ctrl.toggleSave($ctrl.chat)"><i class="mdi mdi-heart-outline" ng-class="{\'saved\': $ctrl.chat.saved}"></i></button> <button ng-click="$ctrl.toggleRemove($ctrl.chat)"><i class="mdi mdi-delete" ng-class="{\'removed\': $ctrl.chat.isDeleted}"></i></button></div></div></div>'),e.put("public/app/components/profile/header/profile.header.component.html",'<div class="profile-header-component-container"><div class="profile-header-info"><img ng-src="{{$ctrl.user.picture}}" class="profile-header-image" ng-class="{\'is-online\': $ctrl.user.loggedIn}"><div class="profile-header-user"><h4>{{$ctrl.user.name}}</h4><p>{{$ctrl.user.username}}</p></div><div class="profile-header-options"><md-menu class="profile-header-dropdown" ng-if="$ctrl._isLoggedIn"><button ng-click="$mdOpenMenu()"><span>Options</span></button><md-menu-content><md-menu-item ng-if="$ctrl.currentUser._id != $ctrl.user._id && !$ctrl.alreadyFollowing"><button ng-click="$ctrl.follow($ctrl.user)"><span>Follow</span></button></md-menu-item><md-menu-item ng-if="$ctrl.currentUser._id != $ctrl.user._id && $ctrl.alreadyFollowing"><button ng-click="$ctrl.unfollow($ctrl.user)"><span>Unfollow</span></button></md-menu-item><md-menu-item ng-if="$ctrl.currentUser._id != $ctrl.user._id" ng-click="$ctrl.message(item)"><button><span>Message</span></button></md-menu-item><md-menu-item ng-if="$ctrl.currentUser._id == $ctrl.user._id" ng-click="$ctrl.openEditProfile(item)"><button><span>Edit Profile</span></button></md-menu-item><md-menu-item ng-if="$ctrl.currentUser._id == $ctrl.user._id" ng-click="$ctrl.resetPassword()"><button><span>Reset Password</span></button></md-menu-item><md-menu-item ng-if="$ctrl.currentUser._id == $ctrl.user._id"><button><span>Upload Image</span></button></md-menu-item></md-menu-content></md-menu></div></div></div>'),
e.put("public/app/components/profile/overview/profile.overview.component.html",'<div class="profile-overview-component"><div><div class="general-info"><div><h3>Name</h3><span>{{$ctrl.user.name}}</span></div><div><h3>Username</h3><span>{{$ctrl.user.username}}</span></div><div><h3>Email</h3><span>{{$ctrl.user.email}}</span></div><div><h3>Gender</h3><span>{{$ctrl.user.gender}}</span></div><div><h3>Birthday</h3><span>Satan</span></div></div><div class="other-info"><div><h3>Occupation</h3><span>{{$ctrl.user.occupation}}</span></div><div><h3>Interests</h3><span>{{$ctrl.user.interests}}</span></div><div><h3>Bio</h3><span>{{$ctrl.user.bio}}</span></div></div></div><div><div class="score-container"><div><i class="mdi mdi-check"></i> <span>Thread Score</span> <span>{{$ctrl.user.threadScore}}</span></div><div><i class="mdi mdi-check"></i> <span>Comment Score</span> <span>{{$ctrl.user.commentScore}}</span></div></div><div class="friends-list"><div class="friends-list-header"><div><h3>Friends</h3></div><span ng-if="$ctrl.user.following">{{$ctrl.user.following.length}} Friend<span ng-if="$ctrl.user.following.length > 1 || $ctrl.user.following.length == 0">s</span></span></div><div class="friends-list-body"><div ng-repeat="item in $ctrl.user.following" ui-sref="app.profile.overview({userId: item._id})" class="profile-friends-list-repeat"><img ng-src="{{item.picture}}"><p>{{item.name}}</p><p>{{item.username}}</p></div><div class="friends-list-no-friends" ng-if="!$ctrl.user.following.length"><p>{{$ctrl.user.username}} is not following anyone</p></div></div><div class="friends-list-footer"><div><button><span ng-if="$ctrl.friends.length > 3">See all {{$ctrl.user.following.length}} Friends></span></button></div></div></div></div></div>'),e.put("public/app/components/shared/nav/nav.html",'<nav class="nav"><div class="nav-left"><div class="nav-item"><a ui-sref="app.home"><button><span>Opinionated</span></button></a></div><div class="nav-item"><md-menu md-offset="-45 73"><button ng-click="$mdOpenMenu()"><span>Streams</span></button><md-menu-content class="nav-item-dropdown"><md-menu-item><button ui-sref="app.streamsList"><span>All</span></button></md-menu-item><md-menu-item ng-repeat="item in $ctrl.streams"><button ui-sref="app.singleStream({streamId: item._id})"><span>{{item.name}}</span></button></md-menu-item></md-menu-content></md-menu></div></div><div class="nav-right"><div class="nav-item" ng-if="!$ctrl.isLoggedIn"><a ui-sref="app.signup"><button><span>Signup</span></button></a></div><div class="nav-item" ng-if="!$ctrl.isLoggedIn"><a ui-sref="app.login"><button><span>Login</span></button></a></div><div class="nav-item nav-menu-icon" ng-if="$ctrl.isLoggedIn"><md-menu class="nav-chats-menu" md-offset="0 15"><button ng-click="$mdOpenMenu()"><span class="mdi mdi-email"><div ng-if="$ctrl.messageCount > 0" class="nav-notification-count"><span>{{$ctrl.messageCount}}</span></div></span></button><md-menu-content class="nav-messages-dropdown"><md-menu-item ng-repeat="item in $ctrl.chats" ng-if="$ctrl.messageCount > 0"><div class="message" ng-click="$ctrl.doChatAction(item)"><div class="message-header"><div><div ng-if="item.lastAccessed[0].user == $ctrl.user._id && item.lastAccessed[0].unread > 0"><span>{{item.lastAccessed[0].unread}}</span></div><div ng-if="item.lastAccessed[1].user == $ctrl.user._id && item.lastAccessed[1].unread > 0"><span>{{item.lastAccessed[1].unread}}</span></div></div><p ng-if="$ctrl.user._id == item.creator._id">{{item.participants[1].username}}</p><p ng-if="$ctrl.user._id !== item.creator._id">{{item.participants[0].username}}</p></div><div class="message-body"><p>{{item.messages[0].message}}</p></div></div></md-menu-item><md-menu-item ng-if="$ctrl.messageCount == 0" class="no-messages"><div><p>No Unread Messages</p></div></md-menu-item><md-menu-item ui-sref="app.chats.inbox" class="see-all-messages"><p>See all Messages</p></md-menu-item></md-menu-content></md-menu></div><div class="nav-item nav-menu-icon" ng-if="$ctrl.isLoggedIn"><md-menu class="nav-notifications-menu" md-offset="0 15"><button ng-click="$mdOpenMenu()"><span class="mdi mdi-bell"><div ng-if="$ctrl.notificationCount > 0" class="nav-notification-count"><span>{{$ctrl.notificationCount}}</span></div></span></button><md-menu-content class="nav-notifications-dropdown"><md-menu-item ng-repeat="item in $ctrl.notifications" ng-if="$ctrl.notifications.length"><div class="notification" ng-click="$ctrl.notificationAction(item)"><div class="notification-header"><div></div><p>{{item.display.text}}</p></div><span am-time-ago="item.created"></span></div></md-menu-item><md-menu-item ng-click="$ctrl.markAsRead()" ng-if="$ctrl.notifications.length" class="mark-all-as-read"><p>Mark all as read</p></md-menu-item><md-menu-item ng-if="!$ctrl.notifications.length" class="no-notifications"><div><p>You have no new notifications</p></div></md-menu-item></md-menu-content></md-menu></div><div class="nav-item nav-menu-icon" ng-if="$ctrl.isLoggedIn"><button ng-click="$ctrl.openUserMenu()"><span class="mdi mdi-menu"></span></button></div></div></nav><div class="nav-notifications-container" ng-if="$ctrl.showNotifications"><div><div ng-repeat="item in $ctrl.notifications"><p>{{item.display.text}}</p><span am-time-ago="item.created"></span></div></div></div><md-sidenav class="md-sidenav-left user-menu" md-component-id="user-menu" md-whiteframe="4" flex><div class="user-menu-user-info"><img ng-if="$ctrl.user.picture" ng-src="{{$ctrl.user.picture}}"><p>{{$ctrl.user.username}}</p><p>{{$ctrl.user.email}}</p></div><md-list class="user-menu-body"><md-list-item md-ink-ripple class="first-item" ng-class="{\'open\': $ctrl.showProfile}"><div><i class="mdi mdi-account"></i></div><div class="inset"><span>Profile</span></div><button class="md-secondary" ng-click="$ctrl.showProfile = !$ctrl.showProfile"><i class="mdi mdi-chevron-down"></i></button></md-list-item><ul class="user-menu-nested-list" ng-show="$ctrl.showProfile"><div><li><button class="md-ink-ripple" ui-sref="app.profile.overview({userId: $ctrl.user._id})"><span>Overview</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.profile.threads({userId: $ctrl.user._id})"><span>Threads</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.profile.comments({userId: $ctrl.user._id})"><span>Comments</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.profile.saved({userId: $ctrl.user._id})"><span>Saved</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.profile.activity({userId: $ctrl.user._id})"><span>Activity</span></button></li></div></ul><md-list-item md-ink-ripple ng-class="{\'open\': $ctrl.showMessages}"><div><i class="mdi mdi-comment-outline"></i></div><div class="inset"><span>Messages</span></div><button class="md-secondary" ng-click="$ctrl.showMessages = !$ctrl.showMessages"><i class="mdi mdi-chevron-down"></i></button></md-list-item><ul class="user-menu-nested-list" ng-show="$ctrl.showMessages"><div><li><button class="md-ink-ripple" ui-sref="app.chats.inbox"><span>Inbox</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.chats.saved"><span>Saved</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.chats.trash"><span>Trash</span></button></li></div></ul><md-list-item md-ink-ripple ng-class="{\'open\': $ctrl.showStreams}"><div><i class="mdi mdi-book"></i></div><div class="inset"><span>Streams</span></div><button class="md-secondary" ng-click="$ctrl.showStreams = !$ctrl.showStreams"><i class="mdi mdi-chevron-down"></i></button></md-list-item><ul class="user-menu-nested-list" ng-show="$ctrl.showStreams"><div><li><button class="md-ink-ripple" ui-sref="app.streamsList"><span>All</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.trendingStreams"><span>Trending</span></button></li></div><div><li><button class="md-ink-ripple" ui-sref="app.subscribedStreams"><span>Subscribed</span></button></li></div><div><li><button class="md-ink-ripple" ng-click="$ctrl.openCreateStream()"><span>Create</span></button></li></div></ul><md-list-item md-ink-ripple ng-class="{\'open\': $ctrl.showSearch}"><div><i class="mdi mdi-magnify"></i></div><div class="inset"><span>Search</span></div><button class="md-secondary" ng-click="$ctrl.showSearch = !$ctrl.showSearch"><i class="mdi mdi-chevron-down"></i></button></md-list-item><ul class="user-menu-nested-list" ng-show="$ctrl.showSearch"><div><li><button class="md-ink-ripple" ng-click="$ctrl.openUsersSearch()"><span>Users</span></button></li></div><div><li><button class="md-ink-ripple" ng-click="$ctrl.openStreamSearch()"><span>Streams</span></button></li></div><div><li><button class="md-ink-ripple" ng-click="$ctrl.openThreadSearch()"><span>Threads</span></button></li></div></ul><md-list-item md-ink-ripple><div><i class="mdi mdi-pencil"></i></div><div class="inset" ng-click="$ctrl.openCreateThread()"><span>Add Thread</span></div></md-list-item></md-list><div class="logout-container" ng-click="$ctrl.logout()"><div><i class="mdi mdi-emoticon-poop"></i></div><div><span>Logout</span></div></div></md-sidenav>'),e.put("public/app/pages/streams/dialogs/create/create.html",'<md-dialog class="streams-create-dialog"><md-dialog-content><div class="streams-create-dialog-header"><h3>Create A Stream</h3><button ng-click="$ctrl.close()" aria-label="Close create stream dialog"><i class="mdi mdi-close"></i></button></div><p>Once you are finished here, you can upload an image for your stream by click on the default image at the top of your stream</p><div class="streams-create-dialog-form"><create-stream></create-stream></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/streams/dialogs/search/search.html",'<md-dialog class="users-search-dialog"><md-dialog-content><div class="users-search-dialog-header"><h3>Find a Stream</h3><button ng-click="$ctrl.close()" aria-label="close user search dialog"><i class="mdi mdi-close"></i></button></div><div class="users-search-body"><md-autocomplete md-search-text="$ctrl.search" md-items="item in $ctrl.items" md-search-text-change="$ctrl.doSearch($ctrl.search)" md-item-text="item.name" md-item-value="item._id" md-floating-label="search" md-selected-item-change="$ctrl.goToThread(item)" class="users-search-autocomplete"><md-item-template class="users-search-template"><span md-highlight-text="search">{{item.name}}</span></md-item-template></md-autocomplete></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/profile/dialogs/edit/profile.edit.html",'<md-dialog class="profile-edit-dialog"><md-dialog-content><div class="profile-edit-dialog-header"><h3>Edit your profile</h3><button ng-click="$ctrl.close()" aria-label="close edit profile dialog"><i class="mdi mdi-close"></i></button></div><div class="profile-edit-dialog-content"><update-profile user="$ctrl.user"></update-profile></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/profile/dialogs/message/message.html",'<md-dialog class="profile-message-dialog"><md-dialog-content><div class="profile-message-dialog-header"><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div><p>Send {{$ctrl.user.username}} a message</p><form name="$ctrl.messageForm" ng-submit="$ctrl.sendMessage($ctrl.messageForm.$valid)" novalidate><div class="profile-dialog-wrapper" ng-class="{\'has-focus\': $ctrl.messageForm.message.hasFocus, \'has-success\': $ctrl.messageForm.message.$valid && $ctrl.messageForm.message.$touched, \'has-error\': $ctrl.messageForm.message.$error && $ctrl.messageForm.message.$touched && !$ctrl.messageForm.message.$valid, \'is-empty\': !$ctrl.messageForm.message.$viewValue}"><label>Message</label> <textarea name="message" ng-model="$ctrl.data.message" rows="7" required></textarea></div><div class="profile-dialog-submit"><button type="submit" aria-label="submit message button" ng-class="{\'valid\': $ctrl.messageForm.$valid}"><span>Send</span></button></div></form></md-dialog-content></md-dialog>'),e.put("public/app/pages/profile/dialogs/reset/reset.html",'<md-dialog class="profile-reset-dialog"><md-dialog-content><div class="profile-reset-dialog-header"><h3>Change Password</h3><button ng-click="$ctrl.close()" aria-label="close reset password dialog"><i class="mdi mdi-close"></i></button></div><div class="profile-reset-dialog-form"><form name="$ctrl.resetPasswordForm" ng-submit="$ctrl.resetPassword($ctrl.resetPasswordForm.$valid)" novalidate><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.resetPasswordForm.password.hasFocus, \'has-success\': $ctrl.resetPasswordForm.password.$valid, \'has-error\': $ctrl.resetPasswordForm.password.$error && $ctrl.resetPasswordForm.password.$touched && !$ctrl.resetPasswordForm.password.$valid, \'is-blank\': !$ctrl.resetPasswordForm.password.$viewValue}"><label>Old Password</label> <input type="password" ng-model="$ctrl.data.password" name="password" required ng-focus="$ctrl.resetPasswordForm.password.hasFocus=true" ng-blur="$ctrl.resetPasswordForm.password.hasFocus=false"></div><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.resetPasswordForm.newPassword.hasFocus, \'has-success\': $ctrl.resetPasswordForm.newPassword.$valid, \'has-error\': $ctrl.resetPasswordForm.newPassword.$error && $ctrl.resetPasswordForm.newPassword.$touched && !$ctrl.resetPasswordForm.newPassword.$valid, \'is-blank\': !$ctrl.resetPasswordForm.newPassword.$viewValue}"><label>New Password</label> <input type="password" ng-model="$ctrl.data.newPassword" name="newPassword" required ng-focus="$ctrl.resetPasswordForm.newPassword.hasFocus=true" ng-blur="$ctrl.resetPasswordForm.newPassword.hasFocus=false"></div><div class="update-profile-wrapper" ng-class="{\'has-focus\': $ctrl.resetPasswordForm.confirm.hasFocus, \'has-success\': $ctrl.resetPasswordForm.confirm.$valid, \'has-error\': $ctrl.resetPasswordForm.confirm.$error && $ctrl.resetPasswordForm.confirm.$touched && !$ctrl.resetPasswordForm.confirm.$valid, \'is-blank\': !$ctrl.resetPasswordForm.confirm.$viewValue}"><label>Confirm New Password</label> <input type="password" ng-model="$ctrl.data.confirm" name="confirm" required compare-to="$ctrl.data.newPassword" ng-focus="$ctrl.resetPasswordForm.confirm.hasFocus=true" ng-blur="$ctrl.resetPasswordForm.confirm.hasFocus=false"></div><div class="profile-reset-submit"><button type="submit" aria-label="submit reset password dialog" ng-class="{\'is-valid\': $ctrl.resetPasswordForm.$valid}"><span>Change Password</span></button></div></form></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/create/create.anywhere.html",'<md-dialog class="create-anywhere-dialog"><md-dialog-content><div class="create-anywhere-dialog-header"><h3>Create a Thread</h3><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div><div class="create-anywhere-dialog-content"><form name="$ctrl.createThread" ng-submit="$ctrl.create($ctrl.createThread.$valid)" novalidate><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createThread.title.hasFocus, \'has-success\': $ctrl.createThread.title.$valid, \'has-error\': $ctrl.createThread.title.$error && $ctrl.createThread.title.$touched && !$ctrl.createThread.title.$valid, \'is-empty\': !$ctrl.createThread.title.$viewValue}"><label>Name</label> <input type="text" name="title" ng-model="$ctrl.data.title" required ng-focus="$ctrl.createThread.title.hasFocus=true" ng-blur="$ctrl.createThread.title.hasFocus=false"></div><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createThread.content.hasFocus, \'has-success\': $ctrl.createThread.content.$valid && $ctrl.createThread.content.$touched, \'has-error\': $ctrl.createThread.content.$error && $ctrl.createThread.content.$touched && !$ctrl.createThread.content.$valid, \'is-empty\': !$ctrl.createThread.content.$viewValue}"><label>Description</label> <textarea rows="7" cols="40" ng-model="$ctrl.data.content" name="content" ng-focus="$ctrl.createThread.content.hasFocus=true" ng-blur="$ctrl.createThread.content.hasFocus=false">\n\t\t\t\t\t</textarea></div><div class="forum-form-wrapper forum-link-input" ng-class="{\'has-focus\': $ctrl.createThread.link.hasFocus, \'has-success\': $ctrl.createThread.link.$valid && $ctrl.createThread.content.$touched, \'has-error\': $ctrl.createThread.link.$error && $ctrl.createThread.link.$touched && !$ctrl.createThread.link.$valid, \'is-empty\': !$ctrl.createThread.link.$viewValue}" ng-if="$ctrl.hasLink"><label>Link</label> <input type="text" name="link" ng-model="$ctrl.data.link" ng-focus="$ctrl.createThread.link.hasFocus=true" ng-blur="$ctrl.createThread.link.hasFocus=false"></div><div class="forum-form-wrapper"><md-select ng-model="$ctrl.data.stream" placeholder="In what Stream?" class="thread-create-select"><md-option ng-value="stream._id" ng-repeat="stream in $ctrl.streams">{{stream.name}}</md-option></md-select></div><div class="forum-form-check"><md-checkbox ng-model="$ctrl.link" md-true-value="hasLink" ng-change="$ctrl.makeLink()">Should this be a link?</md-checkbox></div><div class="forum-form-submit"><button type="submit" aria-label="submit create thread form" ng-class="{\'form-valid\': $ctrl.createThread.$valid}"><span>Create!</span></button></div></form></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/create/create.comment.html",'<md-dialog class="streams-create-dialog"><md-dialog-content><div class="streams-create-dialog-header"><h3>Create A Comment</h3><button ng-click="$ctrl.close()" aria-label="Close create stream dialog"><i class="mdi mdi-close"></i></button></div><div class="streams-create-dialog-form"><create-comment thread="$ctrl.threadId"></create-comment></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/create/create.html",'<md-dialog class="streams-create-dialog"><md-dialog-content><div class="streams-create-dialog-header"><h3>Create A Thread</h3><button ng-click="$ctrl.close()" aria-label="Close create stream dialog"><i class="mdi mdi-close" ng-click="$ctrl.close()"></i></button></div><div class="streams-create-dialog-form"><create-thread stream="$ctrl.stream"></create-thread></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/delete/delete.comment.html",'<md-dialog class="thread-delete-dialog"><md-dialog-content><div><div class="thread-delete-dialog-header"><h3>Delete Comment</h3><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div></div><div class="thread-delete-dialog-body"><p>Are you sure you want to PERMENANTLY delete this comment?</p></div></md-dialog-content><md-dialog-actions class="thread-delete-dialog-actions"><button ng-click="$ctrl.delete()"><span>Delete</span></button> <button ng-click="$ctrl.close()"><span>Nevermind</span></button></md-dialog-actions></md-dialog>'),e.put("public/app/pages/threads/dialogs/delete/delete.html",'<md-dialog class="thread-delete-dialog"><md-dialog-content><div class="thread-delete-dialog-header"><h3>Delete Thread</h3><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div><div class="thread-delete-dialog-body"><p>Are you sure you want to PERMENANTLY delete this thread?</p></div></md-dialog-content><md-dialog-actions class="thread-delete-dialog-actions"><button ng-click="$ctrl.delete()"><span>Delete</span></button> <button ng-click="$ctrl.close()"><span>Nevermind</span></button></md-dialog-actions></md-dialog>'),e.put("public/app/pages/threads/dialogs/edit/edit.comment.html",'<md-dialog class="thread-delete-dialog"><md-dialog-content><div><div class="thread-delete-dialog-header"><h3>Edit Comment</h3><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div></div><div class="thread-dialog-edit"><div class="thread-edit-container"><edit-comment comment="$ctrl._item"></edit-comment></div></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/edit/edit.html",'<md-dialog class="thread-dialog"><md-dialog-content class="thread-dialog-content"><div class="thread-dialog-header"><h3>Edit Thread</h3><button ng-click="$ctrl.close()"><i class="mdi mdi-close"></i></button></div><div class="thread-dialog-edit"><edit-thread thread="$ctrl._item"></edit-thread></div></md-dialog-content></md-dialog>'),e.put("public/app/pages/threads/dialogs/search/search.html",'<md-dialog class="users-search-dialog"><md-dialog-content><div class="users-search-dialog-header"><h3>Find a thread</h3><button ng-click="$ctrl.close()" aria-label="close user search dialog"><i class="mdi mdi-close"></i></button></div><div class="users-search-body"><md-autocomplete md-search-text="$ctrl.search" md-items="item in $ctrl.items" md-search-text-change="$ctrl.doSearch($ctrl.search)" md-item-text="item.title" md-item-value="item._id" md-floating-label="search" md-selected-item-change="$ctrl.goToThread(item)" class="users-search-autocomplete"><md-item-template class="users-search-template"><span md-highlight-text="search">{{item.title}}</span></md-item-template></md-autocomplete></div></md-dialog-content></md-dialog>'),e.put("public/app/components/forum/comments/create/comments.create.component.html",'<div class="forum-create-container"><form name="$ctrl.createComment" ng-submit="$ctrl.create($ctrl.createComment.$valid)" novalidate><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createComment.content.hasFocus, \'has-success\': $ctrl.createComment.content.$valid && $ctrl.createComment.content.$touched, \'has-error\': $ctrl.createComment.content.$error && $ctrl.createComment.content.$touched && !$ctrl.createComment.content.$valid, \'is-empty\': !$ctrl.createComment.content.$viewValue}"><label>Description</label> <textarea rows="7" cols="40" ng-model="$ctrl.data.content" name="content" ng-focus="$ctrl.createComment.content.hasFocus=true" ng-blur="$ctrl.createComment.content.hasFocus=false" required>\n\t\t\t</textarea></div><div class="forum-form-submit"><button type="submit" aria-label="submit create thread form" ng-class="{\'form-valid\': $ctrl.createComment.$valid}"><span>Create!</span></button></div></form></div>'),e.put("public/app/components/forum/comments/edit/edit.html",'<div class="thread-edit-container"><form name="$ctrl.editComment" ng-submit="$ctrl.edit($ctrl.editComment.$valid)" novalidate class="edit-thread-form"><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.editComment.content.hasFocus, \'has-success\': $ctrl.editComment.content.$valid, \'has-error\': $ctrl.editComment.content.$error && $ctrl.editComment.content.$touched && !$ctrl.editComment.content.$valid, \'is-empty\': !$ctrl.editComment.content.$viewValue}"><label>Content</label> <textarea name="content" ng-model="$ctrl.comment.content" ng-focus="$ctrl.editComment.content.hasFocus=true" ng-blur="$ctrl.editComment.content.hasFocus=false" rows="7" cols="40" required></textarea></div><div class="forum-form-submit"><button type="submit" ng-class="{\'form-valid\': $ctrl.editComment.$valid}"><span>Edit</span></button></div></form></div>'),e.put("public/app/components/forum/comments/list/comments.list.component.html",'<div class="forum-list-component-container"><div ng-repeat="item in $ctrl.comments" class="forum-single-repeat comment-list-repeat"><single-comment comment="item"></single-comment></div><div ng-if="!$ctrl.comments.length" class="forum-list-no-items"><p>It doesn\'t look like there is anything here</p><span>You should create a <span>new comment!</span></span></div><md-button class="md-fab forum-create-button" ng-click="$ctrl.openCreateComment()" ng-if="!$ctrl.hideCreate"><i class="mdi mdi-pencil"></i></md-button></div>'),e.put("public/app/components/forum/comments/single/comments.single.component.html",'<div class="forum-single-component comment-single-component"><div class="forum-single-container comment-single-container"><div class="forum-single-header"><img class="forum-creator-image" ng-class="{\'is-online\': $ctrl.comment.creator.loggedIn}" ng-src="{{$ctrl.comment.creator.picture}}"><div class="forum-created-info"><h4 ui-sref="app.profile.overview({userId: $ctrl.comment.creator._id})">{{$ctrl.comment.creator.username}}</h4><p am-time-ago="$ctrl.comment.created"></p></div><div class="forum-score-container below-mobile"><span class="mdi mdi-chevron-up" ng-class="{\'liked\': $ctrl.comment.liked}" ng-click="$ctrl.like($ctrl.comment)"></span> <span ng-class="{\'positive\': $ctrl.comment.score >= 1, \'negative\': $ctrl.comment.score <= -1}">{{$ctrl.comment.score}}</span> <span class="mdi mdi-chevron-down" ng-class="{\'disliked\': $ctrl.comment.disliked}" ng-click="$ctrl.dislike($ctrl.comment)"></span></div></div><div class="forum-single-content comment-single-content"><p>{{$ctrl.comment.content}}</p></div></div><div class="forum-single-info"><div class="left"><div class="forum-single-info-text"><button><span>{{$ctrl.comment.saves.length}}</span><p>Save<span ng-if="$ctrl.comment.saves.length > 1 || $ctrl.comment.saves.length == 0">s</span></p></button></div></div><div class="right"><div class="forum-single-info-text"><button ng-click="$ctrl.toggleSave($ctrl.comment)"><i class="mdi mdi-heart-outline" ng-class="{\'saved\': $ctrl.comment.saved}"></i></button></div><div class="forum-single-info-item" ng-if="$ctrl.moderator || $ctrl.currentUser == $ctrl.comment.creator._id"><button ng-click="$ctrl.openEditComment($ctrl.comment)"><i class="mdi mdi-pencil"></i></button></div><div class="forum-single-info-item" ng-if="$ctrl.moderator || $ctrl.currentUser == $ctrl.comment.creator._id"><button ng-click="$ctrl.openDeleteComment($ctrl.comment)"><i class="mdi mdi-delete"></i></button></div></div></div></div>'),e.put("public/app/components/forum/streams/create/stream.create.component.html",'<div class="forum-create-container"><form name="$ctrl.createStream" ng-submit="$ctrl.create($ctrl.createStream.$valid)" novalidate><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createStream.name.hasFocus, \'has-success\': $ctrl.createStream.name.$valid, \'has-error\': $ctrl.createStream.name.$error && $ctrl.createStream.name.$touched && !$ctrl.createStream.name.$valid, \'is-empty\': !$ctrl.createStream.name.$viewValue}"><label>Name</label> <input type="text" name="name" ng-model="$ctrl.data.name" required ng-focus="$ctrl.createStream.name.hasFocus=true" ng-blur="$ctrl.createStream.name.hasFocus=false"></div><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createStream.description.hasFocus, \'has-success\': $ctrl.createStream.description.$valid, \'has-error\': $ctrl.createStream.description.$error && $ctrl.createStream.description.$touched && !$ctrl.createStream.description.$valid, \'is-empty\': !$ctrl.createStream.description.$viewValue}"><label>Description</label> <textarea rows="7" cols="40" ng-model="$ctrl.data.description" name="description" ng-focus="$ctrl.createStream.description.hasFocus=true" ng-blur="$ctrl.createStream.description.hasFocus=false" required>\n\t\t\t</textarea></div><div class="forum-form-submit"><button type="submit" aria-label="submit create stream form" ng-class="{\'form-valid\': $ctrl.createStream.$valid}"><span>Create!</span></button></div></form></div>'),e.put("public/app/components/forum/streams/list/streams.list.component.html",'<div class="forum-list-component-container"><div class="forum-list-view"><div class="forum-list-list"><div ng-repeat="item in $ctrl.streams | orderBy: $ctrl.rowFilter" class="forum-single-repeat"><single-stream stream="item"></single-stream></div></div><div class="forum-side-bar above-tablet" ng-if="!$ctrl.hideTrending && $ctrl.streams.length"><div class="forum-trending-list"><div class="forum-trending-header"><h4>Trending</h4></div><div ng-repeat=\'item in $ctrl.streams | orderBy: "-subscribers.length" | limitTo: "15"\' class="forum-trending-repeat"><trending-stream stream="item" class="forum-trending-component-container"></trending-stream></div></div></div></div><div ng-if="!$ctrl.streams.length && !$ctrl.hideNoItems" class="forum-list-no-items"><p>It doesn\'t look like there is anything here</p><span>You should create a <span>new stream!</span></span></div><md-button class="md-fab forum-create-button" ng-click="$ctrl.openCreateStream()" ng-if="!$ctrl.hideCreate"><i class="mdi mdi-pencil"></i></md-button></div>'),e.put("public/app/components/forum/streams/single/streams.single.component.html",'<div class="forum-single-component"><div class="forum-single-container stream-single-container" ui-sref="app.singleStream({streamId: $ctrl.stream._id})"><div class="forum-single-left"><img ng-src="{{$ctrl.stream.picture}}"></div><div class="forum-single-content"><h3>{{$ctrl.stream.name}}</h3><p>{{$ctrl.stream.description}}</p></div></div><div class="forum-single-info"><div class="left"><div class="stream-single-info-text"><span ng-class="{\'subscribed\': $ctrl.stream.subscribed}">{{$ctrl.stream.subscribers.length}}</span><p>Subscriber<span ng-if="$ctrl.stream.subscribers.length > 1 || $ctrl.stream.subscribers.length == 0">s</span></p></div><div class="stream-single-info-text"><span class="stream-info-data">{{$ctrl.stream.threads.length}}</span><p>Thread<span ng-if="$ctrl.stream.threads.length > 1 || $ctrl.stream.threads.length == 0">s</span></p></div></div><div class="right"><div><button ng-click="$ctrl.toggleSubscribe($ctrl.stream)"><i class="mdi mdi-star-outline" ng-class="{\'subscribed\': $ctrl.stream.subscribed}"></i></button></div></div></div></div>'),e.put("public/app/components/forum/streams/trending/streams.trending.component.html",'<div class="forum-single-trending-component"><div class="forum-single-trending"><div><p>{{$ctrl.stream.name}}</p></div><div><div><span>{{$ctrl.stream.subscribers.length}} Subscriber<span ng-if="$ctrl.stream.subscribers.length > 1 || $ctrl.stream.subscribers.length == 0">s</span></span></div><div><i class="mdi mdi-star-outline" ng-class="{\'subscribed\': $ctrl.stream.subscribed}" ng-click="$ctrl.toggleSubscribe($ctrl.stream)"></i></div></div></div></div>'),e.put("public/app/components/forum/threads/edit/edit.html",'<div class="thread-edit-container"><form name="$ctrl.editThread" class="edit-thread-form" ng-submit="$ctrl.edit($ctrl.editThread.$valid)"><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.editThread.title.hasFocus, \'has-success\': $ctrl.editThread.title.$valid && $ctrl.editThread.title.$touched, \'has-error\': $ctrl.editThread.title.$error && $ctrl.editThread.title.$touched && !$ctrl.editThread.title.$valid, \'is-empty\': !$ctrl.editThread.title.$viewValue}"><label>Title</label> <input ng-model="$ctrl.thread.title" name="title" ng-focus="$ctrl.editThread.title.hasFocus=true" ng-blur="$ctrl.editThread.title.hasFocus=false"></div><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.editThread.content.hasFocus, \'has-success\': $ctrl.editThread.content.$valid && $ctrl.editThread.content.$touched, \'has-error\': $ctrl.editThread.content.$error && $ctrl.editThread.content.$touched && !$ctrl.editThread.content.$valid, \'is-empty\': !$ctrl.editThread.content.$viewValue}"><label>Content</label> <textarea ng-model="$ctrl.thread.content" rows="7" cols="40" name="content" ng-focus="$ctrl.editThread.content.hasFocus=true" ng-blur="$ctrl.editThread.content.hasFocus=false"></textarea></div><div class="forum-form-wrapper" ng-if="$ctrl.thread.link" ng-class="{\'has-focus\': $ctrl.editThread.link.hasFocus, \'has-success\': $ctrl.editThread.link.$valid && $ctrl.editThread.link.$touched, \'has-error\': $ctrl.editThread.link.$error && $ctrl.editThread.link.$touched && !$ctrl.editThread.link.$valid, \'is-empty\': !$ctrl.editThread.link.$viewValue}"><label>Link</label> <input ng-model="$ctrl.thread.link" name="link" ng-focus="$ctrl.editThread.link.hasFocus=true" ng-blur="$ctrl.editThread.link.hasFocus=false"></div><div class="forum-form-submit"><button type="submit" ng-class="{\'form-valid\': $ctrl.editThread.$valid}"><span>Edit</span></button></div></form></div>'),e.put("public/app/components/forum/threads/create/threads.create.component.html",'<div class="forum-create-container"><form name="$ctrl.createThread" ng-submit="$ctrl.create($ctrl.createThread.$valid)" novalidate><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createThread.title.hasFocus, \'has-success\': $ctrl.createThread.title.$valid, \'has-error\': $ctrl.createThread.title.$error && $ctrl.createThread.title.$touched && !$ctrl.createThread.title.$valid, \'is-empty\': !$ctrl.createThread.title.$viewValue}"><label>Name</label> <input type="text" name="title" ng-model="$ctrl.data.title" required ng-focus="$ctrl.createThread.title.hasFocus=true" ng-blur="$ctrl.createThread.title.hasFocus=false"></div><div class="forum-form-wrapper" ng-class="{\'has-focus\': $ctrl.createThread.content.hasFocus, \'has-success\': $ctrl.createThread.content.$valid && $ctrl.createThread.content.$touched, \'has-error\': $ctrl.createThread.content.$error && $ctrl.createThread.content.$touched && !$ctrl.createThread.content.$valid, \'is-empty\': !$ctrl.createThread.content.$viewValue}"><label>Description</label> <textarea rows="7" cols="40" ng-model="$ctrl.data.content" name="content" ng-focus="$ctrl.createThread.content.hasFocus=true" ng-blur="$ctrl.createThread.content.hasFocus=false">\n\t\t\t</textarea></div><div class="forum-form-wrapper forum-link-input" ng-class="{\'has-focus\': $ctrl.createThread.link.hasFocus, \'has-success\': $ctrl.createThread.link.$valid && $ctrl.createThread.content.$touched, \'has-error\': $ctrl.createThread.link.$error && $ctrl.createThread.link.$touched && !$ctrl.createThread.link.$valid, \'is-empty\': !$ctrl.createThread.link.$viewValue}" ng-if="$ctrl.hasLink"><label>Link</label> <input type="text" name="link" ng-model="$ctrl.data.link" ng-focus="$ctrl.createThread.link.hasFocus=true" ng-blur="$ctrl.createThread.link.hasFocus=false"></div><div class="forum-form-check"><md-checkbox ng-model="$ctrl.link" md-true-value="hasLink" ng-change="$ctrl.makeLink()">Should this be a link?</md-checkbox></div><div class="forum-form-submit"><button type="submit" aria-label="submit create thread form" ng-class="{\'form-valid\': $ctrl.createThread.$valid}"><span>Create!</span></button></div></form></div>'),
e.put("public/app/components/forum/threads/single/threads.single.component.html",'<div class="forum-single-component"><div class="forum-single-thread-container"><div class="forum-single-header"><img class="forum-creator-image" ng-class="{\'is-online\': $ctrl.thread.creator.loggedIn}" ng-src="{{$ctrl.thread.creator.picture}}"><div class="forum-created-info"><h4 ui-sref="app.profile.overview({userId: $ctrl.thread.creator._id})">{{$ctrl.thread.creator.username}}</h4><p am-time-ago="$ctrl.thread.created"></p></div><div class="forum-score-container below-mobile"><span class="mdi mdi-chevron-up" ng-class="{\'liked\': $ctrl.thread.liked}" ng-click="$ctrl.like($ctrl.thread)"></span> <span ng-class="{\'positive\': $ctrl.thread.score >= 1, \'negative\': $ctrl.thread.score <= -1}">{{$ctrl.thread.score}}</span> <span class="mdi mdi-chevron-down" ng-class="{\'disliked\': $ctrl.thread.disliked}" ng-click="$ctrl.unlike($ctrl.thread)"></span></div></div><div class="forum-single-container thread-single-container"><div class="forum-score-container above-mobile"><span class="mdi mdi-chevron-up" ng-class="{\'liked\': $ctrl.thread.liked}" ng-click="$ctrl.like($ctrl.thread)"></span> <span ng-class="{\'positive\': $ctrl.thread.score >= 1, \'negative\': $ctrl.thread.score <= -1}">{{$ctrl.thread.score}}</span> <span class="mdi mdi-chevron-down" ng-class="{\'disliked\': $ctrl.thread.disliked}" ng-click="$ctrl.unlike($ctrl.thread)"></span></div><div class="forum-single-content"><h3 ng-if="!$ctrl.thread.link">{{$ctrl.thread.title}}</h3><h3 ng-if="$ctrl.thread.link"><a target="_blank" href="{{$ctrl.thread.link}}">{{$ctrl.thread.title}}</a></h3><p>{{$ctrl.thread.content}}</p></div></div></div><div class="forum-single-info"><div class="left"><div class="forum-single-info-text"><button ui-sref="app.singleThread({streamId: $ctrl.streamId, threadId: $ctrl.thread._id})"><span>{{$ctrl.thread.comments.length}}</span> <i class="mdi mdi-comment-outline mobile"></i><p class="above-mobile">Comment<span ng-if="$ctrl.thread.comments.length > 1 || $ctrl.thread.comments.length == 0">s</span></p></button></div><div class="forum-single-info-text"><button><span>{{$ctrl.thread.views}}</span> <i class="mobile mdi mdi-eye"></i><p class="above-mobile">View<span ng-if="$ctrl.thread.views > 1 || $ctrl.thread.views == 0">s</span></p></button></div><div class="forum-single-info-text"><button><span>{{$ctrl.thread.saves.length}}</span> <i class="mobile mdi mdi-heart-outline"></i><p class="above-mobile">Save<span ng-if="$ctrl.thread.saves.length > 1 || $ctrl.thread.saves.length == 0">s</span></p></button></div></div><div class="right"><div class="forum-single-info-text"><button ng-click="$ctrl.toggleSave($ctrl.thread)"><i class="mdi mdi-heart-outline" ng-class="{\'saved\': $ctrl.thread.saved}"></i></button></div><div class="forum-single-ino-text" ng-if="$ctrl.moderator || $ctrl.currentUser == $ctrl.thread.creator._id"><button ng-click="$ctrl.openEditThread($ctrl.thread)"><i class="mdi mdi-pencil"></i></button></div><div class="forum-single-info-text" ng-if="$ctrl.moderator || $ctrl.currentUser == $ctrl.thread.creator._id"><button ng-click="$ctrl.openDeleteThread($ctrl.thread)"><i class="mdi mdi-delete"></i></button></div></div></div></div>'),e.put("public/app/components/forum/threads/list/threads.list.component.html",'<div class="forum-list-component-container"><div class="forum-list-view"><div class="forum-list-list"><div ng-repeat="item in $ctrl.threads | orderBy: $ctrl.rowFilter" class="forum-single-repeat"><single-thread thread="item" class="forum-single-repeat"></single-thread></div></div></div><div ng-if="!$ctrl.threads.length && !$ctrl.hideNoItems" class="forum-list-no-items"><p>It doesn\'t look like there is anything here</p><span>You should create a <span>new comment!</span></span></div><md-button class="md-fab forum-create-button" ng-click="$ctrl.openCreateThread()" ng-if="!$ctrl.hideCreate"><i class="mdi mdi-pencil"></i></md-button></div>')}a.$inject=["$templateCache"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){"use strict";function a(e){"ngInject";var t={conn:{},connect:function(){var t=this,a=new io.connect("window.location.hostname");a.on("connect",function(){console.log("connected")}),a.on("disconnect",function(){t.connect()}),a.on("newNotification",function(t){e.$broadcast("newNotification",t)}),a.on("newChatNotification",function(t){e.$broadcast("newChatMessage",t)}),this.conn=a},reconnect:function(){this.conn.close(),this.connect()},close:function(){this.conn.close()},online:function(e){this.conn.emit("online",{userId:e})},logout:function(e){this.conn.emit("logout")},follow:function(e){this.conn.emit("followed",{userId:e})},unfollow:function(e){this.conn.emit("unfollowed",{userId:e})},message:function(e){this.conn.emit("messaged",{userId:e})},chatsMessage:function(e){this.conn.emit("chatMessaged",{chatId:e})}};return t.connect(),t}a.$inject=["$rootScope"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(122),o=r(i),c=a(121),l=r(c),d=a(123),u=r(d),m=n.default.module("auth.components",[]);m.component("signupForm",o.default),m.component("loginForm",l.default),m.component("updateProfile",u.default),t.default=m},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o,c){"ngInject";a(this,e),this._Auth=s,this._Toast=n,this._Storage=i,this._$state=t,this._$dialog=r,this._Websocket=o,this._$rootScope=c,this.data={email:"",password:""},this.checkRemember()}return e.$inject=["$state","$mdDialog","Auth","Toast","Storage","Websocket","$rootScope"],r(e,[{key:"checkRemember",value:function(){var e=this._Storage.get("userEmail");e?(this.data.email=atob(e),this.isRemembered=!0):this.data.email=""}},{key:"login",value:function(e){var t=this;if(this.isLoading=!0,e){if("undefined"!=typeof this.remember){var a=btoa(this.data.email);this._Storage.set("userEmail",a)}"undefined"!=typeof this.forget&&this._Storage.remove("userEmail"),this._Auth.login(this.data).then(function(e){e.data.success?(t.postLogin(e),t._Toast.success("Welcome back "+e.data.res.record.username)):t._Toast.error(e.data.res.message)})}else this._Toast.error("hmm, form issue!")}},{key:"postLogin",value:function(e){var t=e.data.res.record,a=angular.toJson(t);this._Storage.set("user",a),this._Storage.set("opinion-token",e.data.res.token),this._Websocket.online(e.data.res.record._id),this._$state.go("app.home",{},{reload:!0})}},{key:"openPasswordReset",value:function(){this._$dialog.show({controller:"PasswordResetController",controllerAs:"$ctrl",templateUrl:"./app/pages/auth/reset/reset.html"})}}]),e}(),n={scope:{},controller:s,templateUrl:"./app/components/auth/login/login.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";a(this,e),this.data={name:"",username:"",email:"",password:""},this._state=t,this._Auth=r,this._Toast=s,this._Storage=n,this._$rootScope=i,this._Websocket=o}return e.$inject=["$state","Auth","Toast","Storage","$rootScope","Websocket"],r(e,[{key:"signup",value:function(e){var t=this;e?this._Auth.signup(this.data).then(function(e){t._Toast.success("Welcome to Opinionated! "+e.data.res.record.username),t.postSignup(e)},function(e){t._Toast.error("boo, but still yay")}):this._Toast.error("hmm, form issue!")}},{key:"postSignup",value:function(e){var t=angular.toJson(e.data.res.record);this._Storage.set("user",t),this._Storage.set("opinion-token",e.data.res.token),this._Websocket.online(e.data.res.record._id),this._state.go("app.updateProfile",{userId:e.data.res.record._id},{reload:!0})}}]),e}(),n={scope:{},controller:s,templateUrl:"./app/components/auth/signup/signup.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i){"ngInject";a(this,e),this._Auth=t,this._Toast=r,this._$state=s,this._$rootScope=n,this._Upload=i,this.data={gender:this.user.gender,phone:this.user.phone,occupation:this.user.occupation,interests:this.user.interests,bio:this.user.bio}}return e.$inject=["Auth","Toast","$state","$rootScope","Upload"],r(e,[{key:"updateProfile",value:function(e){var t=this;e&&this._Auth.updateProfile(this.user._id,this.data).then(function(e){t._Toast.success("You have updated your profile!"),t._$rootScope.$broadcast("profileUpdated"),t._$state.go("app.profile.overview",{userId:t.user._id},{reload:!0})})}},{key:"uploadImage",value:function(e){var t=this;e&&this._Upload.upload({url:"/users/uploadPicture/"+this.user._id,file:e}).progress(function(e){this.progressPercentage=parseInt(100*e.loaded/e.total)}).success(function(e,a,r,s){t._Toast.success("Your photo has been uploaded"),t.uploaded=!0})}}]),e}(),n={scope:{},bindings:{user:"<"},controller:s,templateUrl:"./app/components/auth/updateProfile/update.profile.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(125),o=r(i),c=a(127),l=r(c),d=a(126),u=r(d),m=n.default.module("chats.components",[]);m.component("chatsList",o.default),m.component("singleChat",l.default),m.component("chatMessages",u.default),t.default=m},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,r){"ngInject";var s=this;a(this,e),this._$state=r,this._$rootScope=t,this._$rootScope.$on("hideChats",function(){s.hideChats=!0}),this._$rootScope.$on("showChats",function(){s.hideChats=!1})};r.$inject=["$rootScope","$state"];var s={scope:{},bindings:{chats:"<"},controller:r,templateUrl:"./app/components/chats/list/list.html"};t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o,c){"ngInject";a(this,e),this._Chat=t,this._Auth=r,this._$timeout=s,this._$stateParams=n,this._$rootScope=o,this._$state=i,this._Websocket=c,this.chatId=this._$stateParams.chatId,this.userId=this._Auth.getUser()._id,this.data={message:"",creator:this.userId},this.chatId&&document.documentElement.clientWidth<1300&&this._$rootScope.$broadcast("hideChats")}return e.$inject=["Chat","Auth","$timeout","$stateParams","$state","$rootScope","Websocket"],r(e,[{key:"scrollToBottom",value:function(){this._$timeout(function(){var e=document.getElementById("scrollContainer");e.scrollTop=e.scrollHeight},0,!1)}},{key:"sendMessage",value:function(e){var t=this;e&&this._Chat.message(this.chatId,this.data).then(function(e){t._Websocket.chatsMessage(t.chatId),t._$rootScope.$broadcast("newMessage"),t.scrollToBottom(),t.resetForm()})}},{key:"resetForm",value:function(){this.chatForm.$setUntouched(),this.chatForm.$setPristine(),this.data.message=""}}]),e}(),n={scope:{},bindings:{messages:"=",chat:"<"},controller:s,templateUrl:"./app/components/chats/messages/messages.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";a(this,e),this._Chat=t,this._$rootScope=r,this._$location=s,this._$state=n,this._Auth=i,this._$dialog=o,this.currentUser=this._Auth.getUser()._id,"app.chats.inbox"!=this._$state.current.name&&"app.chats.saved"!=this._$state.current.name||(this.hideRemoved=!0)}return e.$inject=["Chat","$rootScope","$location","$state","Auth","$mdDialog"],r(e,[{key:"goToChat",value:function(e){"app.chats.inbox"==this._$state.current.name?this._$state.go("app.chats.inbox.messages",{chatId:e._id}):"app.chats.saved"==this._$state.current.name?this._$state.go("app.chats.saved.messages",{chatId:e._id}):"app.chats.trash"==this._$state.current.name&&this._$state.go("app.chats.trash.messages",{chatId:e._id})}},{key:"toggleSave",value:function(e){e.saved?this._Chat.unsave(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Chat.save(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"toggleRemove",value:function(e){e.isDeleted?this._Chat.unremove(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Chat.remove(e._id).then(function(t){angular.extend(e,t.data.res.record)})}}]),e}(),n={scope:{},bindings:{chat:"<"},controller:s,templateUrl:"./app/components/chats/single/single.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s);a(149),a(120),a(134),a(147),a(124);var i=["shared.components","auth.components","forum.components","profile.components","chats.components"],o=n.default.module("app.components",i);t.default=o},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(130),o=r(i),c=a(132),l=r(c),d=a(133),u=r(d),m=a(131),h=r(m),p=n.default.module("comments.components",[]);p.component("createComment",o.default),p.component("commentsList",l.default),p.component("singleComment",u.default),p.component("editComment",h.default),t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._Comment=t,this._Toast=r,this.threadId=s.threadId,this._$rootScope=n,this.data={content:"",thread:this.threadId}}return e.$inject=["Comment","Toast","$stateParams","$rootScope"],r(e,[{key:"create",value:function(e){var t=this;e?this._Comment.create(this.data).then(function(e){e.data.success?(t._Toast.success("You created a new comment"),t._$rootScope.$broadcast("commentCreated"),t.clearForm()):t._Toast.error(e.data.res.message)}):this._Toast.error("Your form is not valid")}},{key:"clearForm",value:function(){this.createComment.$setPristine(),this.createComment.$setUntouched(),this.data.content=""}}]),e}(),n={scope:{},templateUrl:"./app/components/forum/comments/create/comments.create.component.html",controller:s};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._$dialog=r,this._Comment=t}return e.$inject=["Comment","$mdDialog"],r(e,[{key:"edit",value:function(e){var t=this;e&&(this.data={content:this.comment.content},this._Comment.modify(this.comment._id,this.data).then(function(e){t._$dialog.hide()}))}}]),e}(),n={scope:{},bindings:{comment:"="},controller:s,templateUrl:"./app/components/forum/comments/edit/edit.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._$dialog=t,this._$state=r,"app.profile.comments"!=this._$state.current.name&&"app.profile.saved"!=this._$state.current.name||(this.hideCreate=!0)}return e.$inject=["$mdDialog","$state"],r(e,[{key:"openCreateComment",value:function(){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/create/create.comment.html",controller:"CommentsCreateController",controllerAs:"$ctrl",clickOutsideToClose:!0})}}]),e}(),n={scope:{},bindings:{comments:"<"},controller:s,templateUrl:"./app/components/forum/comments/list/comments.list.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";a(this,e),this._Auth=t,this._Comment=r,this._Thread=s,this._$state=i,this._isLoggedIn=this._Auth.isLoggedIn(),this._$stateParams=n,this._$dialog=o,this._threadId=n.threadId,this._isLoggedIn&&(this.currentUser=this._Auth.getUser()._id),this.getThread()}return e.$inject=["Auth","Comment","Thread","$stateParams","$state","$mdDialog"],r(e,[{key:"getThread",value:function(){var e=this;this._Thread.single(this._threadId).then(function(t){t.data.res.record.stream.moderators.forEach(function(t){e.currentUser==t&&(e.moderator=!0)})})}},{key:"like",value:function(e){this._Comment.like(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"dislike",value:function(e){this._Comment.dislike(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"toggleSave",value:function(e){e.saved?this._Comment.unsave(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Comment.save(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"openEditComment",value:function(e){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/edit/edit.comment.html",controller:"EditCommentController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{item:e}})}},{key:"openDeleteComment",value:function(e){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/delete/delete.comment.html",controller:"DeleteCommentController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{item:e}})}}]),e}(),n={scope:{},bindings:{comment:"<"},controller:s,templateUrl:"./app/components/forum/comments/single/comments.single.component.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s);a(138),a(144),a(129);var i=["streams.components","threads.components","comments.components"],o=n.default.module("forum.components",i);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";a(this,e),this._Stream=t,this._Toast=r,this._$rootScope=s,this.data={name:"",description:""}}return e.$inject=["Stream","Toast","$rootScope"],r(e,[{key:"create",value:function(e){var t=this;e?this._Stream.create(this.data).then(function(e){t._Toast.success("You just created a Stream: "+e.data.res.record.name),t._$rootScope.$broadcast("streamCreated")}):this._Toast.error("Hmm... Your form isn't valid")}}]),e}(),n={scope:{},controller:s,templateUrl:"./app/components/forum/streams/create/stream.create.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";var n=this;a(this,e),this._$dialog=t,this._$state=s,this._$rootScope=r,"app.subscribedStreams"==this._$state.current.name&&(this.hideTrending=!0,this.hideCreate=!0),r.$on("streamByThreads",function(){"-threads.length"==n.rowFilter?n.rowFilter="threads.length":n.rowFilter="-threads.length"}),r.$on("streamBySubscribers",function(){"subscribers.length"==n.rowFilter?n.rowFilter="subscribers.length":n.rowFilter="-subscribers.length"}),r.$on("streamByDate",function(){"created"==n.rowFilter?n.rowFilter="-created":n.rowFilter="created"})}return e.$inject=["$mdDialog","$rootScope","$state"],r(e,[{key:"openCreateStream",value:function(){this._$dialog.show({templateUrl:"./app/pages/streams/dialogs/create/create.html",controller:"StreamsCreateController",controllerAs:"$ctrl",clickOutsideToClose:!0})}}]),e}(),n={scope:{},bindings:{streams:"="},controller:s,templateUrl:"./app/components/forum/streams/list/streams.list.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Stream=t}return e.$inject=["Stream"],r(e,[{key:"toggleSubscribe",value:function(e){e.subscribed?this._Stream.unsubscribe(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Stream.subscribe(e._id).then(function(t){angular.extend(e,t.data.res.record)})}}]),e}(),n={scope:{},bindings:{stream:"="},controller:s,templateUrl:"./app/components/forum/streams/single/streams.single.component.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(136),o=r(i),c=a(137),l=r(c),d=a(135),u=r(d),m=a(139),h=r(m),p=n.default.module("streams.components",[]);p.component("streamsList",o.default),p.component("singleStream",l.default),p.component("createStream",u.default),p.component("trendingStream",h.default),t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Stream=t}return e.$inject=["Stream"],r(e,[{key:"toggleSubscribe",value:function(e){e.subscribed?this._Stream.unsubscribe(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Stream.subscribe(e._id).then(function(t){angular.extend(e,t.data.res.record)})}}]),e}(),n={scope:{},bindings:{stream:"<"},controller:s,templateUrl:"./app/components/forum/streams/trending/streams.trending.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._Toast=t,this._Thread=r,this._$rootScope=n,this._$stateParams=s,this.streamId=this._$stateParams.streamId,this.data={title:"",content:"",stream:this.streamId,link:""}}return e.$inject=["Toast","Thread","$stateParams","$rootScope"],r(e,[{key:"create",value:function(e){var t=this;e?(this._$stateParams.streamId&&(this.data.stream=this._$stateParams.streamId),this._Thread.create(this.data).then(function(e){t._Toast.success("You have just posted a new thread "+e.data.res.record.title),t._$rootScope.$broadcast("threadCreated")})):this._Toast.error("Hmm.. your form is not valid")}},{key:"makeLink",value:function(){this.hasLink=!this.hasLink}}]),e}(),n={scope:{},bindings:{streamId:"<"},controller:s,templateUrl:"./app/components/forum/threads/create/threads.create.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";a(this,e),this._$dialog=r,this._$rootScope=s,this._Thread=t}return e.$inject=["Thread","$mdDialog","$rootScope"],r(e,[{key:"edit",value:function(e){var t=this;e&&(this.data={title:this.thread.title,content:this.thread.content},this.thread.link&&(this.data.link=this.thread.link),this._Thread.modify(this.thread._id,this.data).then(function(e){t._$rootScope.$broadcast("threadEdited"),t._$dialog.hide()}))}}]),e}(),n={scope:{},bindings:{thread:"="},controller:s,templateUrl:"./app/components/forum/threads/edit/edit.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";var i=this;a(this,e),this._$stateParams=t,this._$dialog=r,this._$rootScope=s,this._$state=n,"app.home"!=this._$state.current.name&&"app.profile.threads"!=this._$state.current.name&&"app.profile.saved"!=this._$state.current.name||(this.hideCreate=!0,this.hideSidebar=!0),"app.home"==this._$state.current.name&&(this.hideNoItems=!0),this.streamId=t.streamId,s.$on("threadByScore",function(){"-score"==i.rowFilter?i.rowFilter="score":i.rowFilter="-score"}),s.$on("threadBySaves",function(){"-saves.length"==i.rowFilter?i.rowFilter="saves.length":i.rowFilter="-saves.length"}),s.$on("threadByDate",function(){"-created"==i.rowFilter?i.rowFilter="created":i.rowFilter="-created"}),s.$on("threadByComments",function(){"-comments.length"==i.rowFilter?i.rowFilter="comments.length":i.rowFilter="-comments.length"})}return e.$inject=["$stateParams","$mdDialog","$rootScope","$state"],r(e,[{key:"openCreateThread",value:function(){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/create/create.html",controller:"ThreadsCreateController",controllerAs:"$ctrl",clickOutsideToClose:!0})}}]),e}(),n={scope:{},bindings:{threads:"<"},controller:s,templateUrl:"./app/components/forum/threads/list/threads.list.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i){"ngInject";var o=this;a(this,e),this._$stateParams=s,this.streamId=this._$stateParams.streamId,this._$state=n,this._$dialog=i,this._Thread=r,this._Auth=t,this._isLoggedIn=this._Auth.isLoggedIn(),this._isLoggedIn&&(this.currentUser=this._Auth.getUser()._id),"app.singleStream"==this._$state.current.name&&this.thread.stream.moderators.forEach(function(e){o.currentUser==e&&(o.moderator=!0)})}return e.$inject=["Auth","Thread","$stateParams","$state","$mdDialog"],r(e,[{key:"toggleSave",value:function(e){e.saved?this._Thread.unsave(e._id).then(function(t){angular.extend(e,t.data.res.record)}):this._Thread.save(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"like",value:function(e){this._Thread.like(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"unlike",value:function(e){this._Thread.unlike(e._id).then(function(t){angular.extend(e,t.data.res.record)})}},{key:"delete",value:function(e){var t=this;this._Thread.remove(e._id).then(function(e){t._$state.reload()})}},{key:"openEditThread",value:function(e){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/edit/edit.html",controller:"EditThreadDialogController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{item:e}})}},{key:"openDeleteThread",value:function(e){this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/delete/delete.html",controller:"DeleteThreadDialogController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{item:e}})}}]),e}(),n={scope:{},bindings:{thread:"<"},controller:s,templateUrl:"./app/components/forum/threads/single/threads.single.component.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(142),o=r(i),c=a(143),l=r(c),d=a(140),u=r(d),m=a(141),h=r(m),p=n.default.module("threads.components",[]);p.component("threadList",o.default),p.component("singleThread",l.default),p.component("createThread",u.default),p.component("editThread",h.default),t.default=p},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o,c,l){"ngInject";a(this,e),this._Auth=t,this._User=r,this._Chat=s,this._Toast=n,
this._$rootScope=i,this._$stateParams=o,this._$dialog=c,this.userId=o.userId,this._Websocket=l,this._isLoggedIn=this._Auth.isLoggedIn(),this._isLoggedIn&&(this.currentUser=this._Auth.getUser()),this.checkUserFollowing()}return e.$inject=["Auth","User","Chat","Toast","$rootScope","$stateParams","$mdDialog","Websocket"],r(e,[{key:"checkUserFollowing",value:function(){var e=this;this._User.single(this.userId).then(function(t){e.user=t.data.res.record,e.alreadyFollowing=t.data.res.alreadyFollowing})}},{key:"follow",value:function(e){var t=this;this._User.follow(e._id).then(function(a){t._Websocket.follow(e._id),t._$rootScope.$broadcast("userFollowed"),t.checkUserFollowing()})}},{key:"unfollow",value:function(e){var t=this;this._User.unfollow(e._id).then(function(a){t._Websocket.unfollow(e._id),t._$rootScope.$broadcast("userUnfollowed"),t.checkUserFollowing()})}},{key:"message",value:function(e){var t=this,a={participants:[this.userId,this.currentUser._id]};this._Chat.create(a).then(function(a){t._Websocket.messaged(e._id),t._$dialog.show({templateUrl:"./app/pages/profile/dialogs/message/message.html",controller:"ProfileMessageController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{message:a.data.res.record,user:t.user}})})}},{key:"openEditProfile",value:function(e){this._$dialog.show({templateUrl:"./app/pages/profile/dialogs/edit/profile.edit.html",controller:"ProfileEditController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{user:this.user}})}},{key:"resetPassword",value:function(){this._$dialog.show({templateUrl:"./app/pages/profile/dialogs/reset/reset.html",controller:"ProfileResetController",controllerAs:"$ctrl",clickOutsideToClose:!0,locals:{user:this.user}})}}]),e}(),n={scope:{},bindings:{user:"<"},controller:s,templateUrl:"./app/components/profile/header/profile.header.component.html"};t.default=n},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(){"ngInject";a(this,e)},s={scope:{},bindings:{user:"<"},controller:r,templateUrl:"./app/components/profile/overview/profile.overview.component.html"};t.default=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(145),o=r(i),c=a(146),l=r(c),d=n.default.module("profile.components",[]);d.component("profileHeader",o.default),d.component("profileOverview",l.default),t.default=d},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o,c,l,d,u,m){"ngInject";var h=this;a(this,e),this._$sidenav=i,this._Auth=t,this._Storage=r,this._User=n,this._Stream=s,this._Chat=u,this._$state=o,this._$rootScope=c,this._$location=d,this._$dialog=l,this._Websocket=m,this.storedUser=this._Auth.getUser(),this.isLoggedIn=this._Auth.isLoggedIn(),this.isLoggedIn&&(this.getUserInfo(),this.updateNotifications(),this.updateChats()),this.notificationCount=0,this.notifications=[],this._$rootScope.$on("$stateChangeStart",function(){h._$sidenav("user-menu").close()}),this._$rootScope.$on("streamCreated",function(){h._$dialog.hide()}),this._$rootScope.$on("newNotification",function(e,t){h.user._id==t.userId&&h.updateNotifications()}),this._$rootScope.$on("newChatMessage",function(e,t){t.participants.forEach(function(e){h.user._id==e._id&&h.updateChats()})}),this._$rootScope.$on("unauthedRequest",function(){h._$dialog.show({templateUrl:"./app/pages/auth/dialogs/403.dialog.html",controller:"AuthUnauthedController",controllerAs:"$ctrl",clickOutsideToClose:!0})}),this._$rootScope,this.getStreams()}return e.$inject=["Auth","Storage","Stream","User","$mdSidenav","$state","$rootScope","$mdDialog","$location","Chat","Websocket"],r(e,[{key:"markRead",value:function(e){var t=this;this._User.notificationsRead(e._id).then(function(e){e.data.res.notifications&&e.data.res.notifications.map(function(e){e.display=t.NotificationText(e),e.thread&&(e.href="app.singleThread({threadId: item.thread._id, streamId: item.thread.stream})"),e.user&&(e.href="app.profile.overview({userId: item.user._id})")}),t.notifications=e.data.res.notifications,t.notificationCount=e.data.res.notifications.length})}},{key:"markAsRead",value:function(){var e=this;this._User.markRead(this.storedUser._id,this.notifications).then(function(t){e.updateNotifications()})}},{key:"notificationAction",value:function(e){e.thread&&this._$location.url(e.thread.stream+"/"+e.thread._id),e.user&&this._$location.url("profile/"+e.actor._id+"/overview"),e.thread&&e.user&&this._$location.url(e.thread.stream+"/"+e.thread._id)}},{key:"updateNotifications",value:function(){var e=this;this._User.notifications().then(function(t){t.data.res.notifications&&t.data.res.notifications.map(function(t){t.display=e.NotificationText(t)}),e.notifications=t.data.res.notifications,e.notificationCount=t.data.res.notifications?t.data.res.notifications.length:0})}},{key:"updateChats",value:function(){var e=this;this._Chat.findUnread(this.storedUser._id).then(function(t){e.chats=t.data.res.records,e.messageCount=t.data.res.unread})}},{key:"doChatAction",value:function(e){var t=this;this._Chat.markRead(e._id).then(function(a){t.messageCount-=1,angular.extend(e,a.data.res.record),t.updateChats(),t._$state.go("app.chats.inbox",{reload:!0})})}},{key:"NotificationText",value:function(e){if(!e)return{text:""};var t="",a=e.actor;switch(e.notificationType){case"liked":t=a.name+" has liked a post";break;case"comment":t=a.name+" has commented on a post";break;case"followed":t=a.name+" is now following you";break;case"saved":t=a.name+" has saved a thread";case"feed":t=a.name+" just created a new thread";break;case"mention":t=a.name+" has just mentioned you in a thread"}return{text:t}}},{key:"openUserMenu",value:function(){this._$sidenav("user-menu").toggle()}},{key:"getUserInfo",value:function(){var e=this;this._User.single(this.storedUser._id).then(function(t){e.user=t.data.res.record})}},{key:"getStreams",value:function(e){var t=this;e=e||{},this.isLoggedIn?(e.subscribed=!0,this._Stream.get(e).then(function(e){t.streams=e.data.res.records})):(e.unsubscribed=!0,this._Stream.get(e).then(function(e){t.streams=e.data.res.records}))}},{key:"openCreateStream",value:function(){this._$sidenav("user-menu").close(),this._$dialog.show({templateUrl:"./app/pages/streams/dialogs/create/create.html",controller:"StreamsCreateController",controllerAs:"$ctrl",clickOutsideToClose:!0})}},{key:"openCreateThread",value:function(){this._$sidenav("user-menu").close(),this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/create/create.anywhere.html",controller:"CreateThreadAnywhereController",controllerAs:"$ctrl",clickOutsideToClose:!0})}},{key:"openUsersSearch",value:function(){this._$sidenav("user-menu").close(),this._$dialog.show({templateUrl:"./app/pages/profile/dialogs/search.html",controller:"UsersSearchController",controllerAs:"$ctrl",clickOutsideToClose:!0})}},{key:"openStreamSearch",value:function(){this._$sidenav("user-menu").close(),this._$dialog.show({templateUrl:"./app/pages/streams/dialogs/search/search.html",controller:"StreamsSearchController",controllerAs:"$ctrl",clickOutsideToClose:!0})}},{key:"openThreadSearch",value:function(){this._$sidenav("user-menu").close(),this._$dialog.show({templateUrl:"./app/pages/threads/dialogs/search/search.html",controller:"ThreadsSearchController",controllerAs:"$ctrl",clickOutsideToClose:!0})}},{key:"logout",value:function(){this._Storage.remove("user"),this._Storage.remove("opinion-token"),this._Websocket.logout(this.user._id),this._$state.go("app.home",{},{reload:!0}),this._$sidenav("user-menu").close()}}]),e}(),n={controller:s,templateUrl:"./app/components/shared/nav/nav.html"};t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(148),o=r(i),c=n.default.module("shared.components",[]);c.component("appNav",o.default),t.default=c},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(153),o=r(i),c=a(154),l=r(c),d=a(152),u=r(d),m=n.default.module("app.config",[]);m.service("Storage",o.default),m.service("Toast",l.default),m.service("Socket",u.default),t.default=m},function(e,t){"use strict";function a(e,t){"ngInject";return{request:function(t){return t.headers.Authorization="Bearer "+e.get("opinion-token"),t},responseError:function(a){"401"!=a.status&&"403"!=a.status||(e.remove("opinion-token"),t.$broadcast("unauthedRequest")),"404"==a.status&&$state.go("app.home")}}}a.$inject=["Storage","$rootScope"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(){"ngInject";a(this,e),this.conn={},this.connect()}return r(e,[{key:"connect",value:function(){var e=this,t=window.io();t.on("connect",function(){console.log("connected")}),t.on("disconnect",function(){e.connect()}),this.conn=t}},{key:"reconnect",value:function(){this.conn.close(),this.connect()}},{key:"close",value:function(){this.conn.close()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(){"ngInject";a(this,e)}return r(e,[{key:"get",value:function(e){return localStorage.getItem(e)}},{key:"set",value:function(e,t){return localStorage.setItem(e,t)}},{key:"remove",value:function(e){return localStorage.removeItem(e)}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Toast=t}return e.$inject=["$mdToast"],r(e,[{key:"success",value:function(e){var t=this._Toast.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("success-toast");this._Toast.show(t)}},{key:"error",value:function(e){var t=this._Toast.simple().content(e).action("OK").highlightAction(!1).position("bottom right").theme("error-toast");this._Toast.show(t)}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.signup",{url:"/signup",templateUrl:"./app/pages/auth/signup/signup.html"}),e.state("app.login",{url:"/login",templateUrl:"./app/pages/auth/login/login.html"}),e.state("app.updateProfile",{url:"/:userId/update-profile",templateUrl:"./app/pages/auth/profileInfo/update-profile.html",controller:"UpdateProfileController",controllerAs:"$ctrl"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(155),o=r(i),c=a(157),l=r(c),d=a(161),u=r(d),m=a(159),h=r(m),p=a(160),f=r(p),g=a(158),v=r(g),$=n.default.module("auth",[]);$.config(o.default),$.service("Auth",l.default),$.controller("PasswordResetController",u.default),$.directive("compareTo",h.default),$.controller("UpdateProfileController",f.default),$.controller("AuthUnauthedController",v.default),t.default=$},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._$http=t,this._Storage=r}return e.$inject=["$http","Storage"],r(e,[{key:"signup",value:function(e){return this._$http({url:"/users",method:"POST",data:e})}},{key:"login",value:function(e){return this._$http({url:"/users/authenticate",method:"POST",data:e})}},{key:"forgot",value:function(e){return this._$http({url:"/users/forgot",method:"POST",data:e})}},{key:"reset",value:function(e){return this._$http({url:"/users/reset",method:"POST",data:e})}},{key:"updateProfile",value:function(e,t){return this._$http({url:"/users/"+e+"/updateProfile",method:"POST",data:t})}},{key:"isLoggedIn",value:function(){return this._Storage.get("opinion-token")}},{key:"getUser",value:function(){var e=this._Storage.get("user");return e?angular.fromJson(e):void 0}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";var s=this;a(this,e),this._$dialog=t,this._$rootScope=r,this._$rootScope.$on("loggedIn",function(){s._$dialog.hide()}),this._$rootScope.$on("signedUp",function(){s._$dialog.hide()})}return e.$inject=["$mdDialog","$rootScope"],r(e,[{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(){"ngInject";return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,a,r){r.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("otherModelValue",function(){r.$validate()})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i){"ngInject";a(this,e),this._$stateParams=t,this._Auth=r,this._Toast=s,this._Storage=n,this._$state=i,this.userId=t.userId,this.user=this._Auth.getUser()}return e.$inject=["$stateParams","Auth","Toast","Storage","$state"],r(e,[{key:"skip",value:function(){this._$state.go("app.profile.overview",{userId:this.userId})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._$state=t,this._$dialog=r,this._Auth=s,this._Toast=n,this.data={email:"",token:"",password:""}}return e.$inject=["$state","$mdDialog","Auth","Toast"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"generateReset",value:function(){var e=this;this._Auth.forgot(this.data).then(function(t){t?(e.tokenSent=!0,e._Toast.success("Great! Check your email for futher instructions")):e._Toast.error(t.data.res.message)})}},{key:"attemptReset",value:function(){var e=this;this._Auth.reset(this.data).then(function(t){t?(e._Toast.success("Hooray! Now you can login"),e._$dialog.hide()):e._Toast.error(t.data.res.error)})}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.chats",{templateUrl:"./app/pages/chats/chats.tmpl.html",abstract:!0}),e.state("app.chats.inbox",{url:"/inbox",templateUrl:"./app/pages/chats/inbox/inbox.html",controller:"ChatsInboxController",controllerAs:"$ctrl"}),e.state("app.chats.inbox.messages",{url:"/:chatId/messages",templateUrl:"./app/pages/chats/messages/messages.html",controller:"ChatsMessagesController",controllerAs:"$ctrl"}),e.state("app.chats.saved",{url:"/saved",templateUrl:"./app/pages/chats/saved/saved.html",controller:"ChatsSavedController",controllerAs:"$ctrl"}),e.state("app.chats.saved.messages",{url:"/:chatId/messages",templateUrl:"./app/pages/chats/messages/messages.html",controller:"ChatsMessagesController",controllerAs:"$ctrl"}),e.state("app.chats.trash",{url:"/trash",templateUrl:"./app/pages/chats/trash/trash.html",controller:"ChatsTrashController",controllerAs:"$ctrl"}),e.state("app.chats.trash.messages",{url:"/:chatId/messages",templateUrl:"./app/pages/chats/messages/messages.html",controller:"ChatsMessagesController",controllerAs:"$ctrl"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(164),o=r(i),c=a(162),l=r(c),d=a(165),u=r(d),m=a(166),h=r(m),p=a(167),f=r(p),g=a(168),v=r(g),$=n.default.module("chats",[]);$.config(l.default),$.service("Chat",o.default),$.controller("ChatsMessagesController",h.default),$.controller("ChatsInboxController",u.default),$.controller("ChatsSavedController",f.default),$.controller("ChatsTrashController",v.default),t.default=$},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$http=t}return e.$inject=["$http"],r(e,[{key:"create",value:function(e){return this._$http({url:"/chats/",method:"POST",data:e})}},{key:"list",value:function(e){return this._$http({url:"/chats/",method:"GET",params:{timestamp:e.timestamp,page:e.page}})}},{key:"markRead",value:function(e){return this._$http({url:"/chats/markRead/"+e,method:"GET"})}},{key:"findUnread",value:function(e){return this._$http({url:"/chats/"+e+"/unread",method:"GET"})}},{key:"get",value:function(e){return this._$http({url:"/chats/"+e,method:"GET"})}},{key:"message",value:function(e,t){return this._$http({url:"/chats/"+e+"/message",method:"POST",data:t})}},{key:"save",value:function(e){return this._$http({url:"/chats/"+e+"/save",method:"POST"})}},{key:"unsave",value:function(e){return this._$http({url:"/chats/"+e+"/unsave",method:"POST"})}},{key:"getSaved",value:function(e,t){return this._$http({url:"/chats/"+e+"/saved",method:"GET",params:{timestamp:t.timestamp,page:t.page}})}},{key:"remove",value:function(e){return this._$http({url:"/chats/"+e+"/remove",method:"POST"})}},{key:"unremove",value:function(e){return this._$http({url:"/chats/"+e+"/unremove",method:"POST"})}},{key:"getRemoved",value:function(e,t){return this._$http({url:"/chats/"+e+"/removed",method:"GET",params:{timestamp:t.timestamp,page:t.page}})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Chat=t,this.chats=[],this.getChats(),this.lastUpdated=0,this.chatsPage=0}return e.$inject=["Chat"],r(e,[{key:"getChats",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.chatsPage,this._Chat.list(e).then(function(a){a.data.res.records&&(e.append?t.chats=t.chats.concat(a.data.res.records):t.chats=a.data.res.records.concat(t.chats),t.lastUpdated=Date.now(),t.noMoreChats=!a.data.res.morePages)})}},{key:"loadMore",value:function(){this.chatsPage++,this.lastUpdated=0,this.getChats({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i){"ngInject";var o=this;a(this,e),this._Auth=t,this._Chat=r,this._$state=s,this._$stateParams=n,this._$rootScope=i,this.chatId=n.chatId,this.currentUser=this._Auth.getUser(),this.messages=[],this.getChat(),this._$rootScope.$on("newMessage",function(){o.updateMessages({append:!0})})}return e.$inject=["Auth","Chat","$state","$stateParams","$rootScope"],r(e,[{key:"getChat",value:function(){var e=this;this._Chat.get(this.chatId).then(function(t){console.log(t),e.chat=t.data.res.chat,e.messages=t.data.res.record.messages})}},{key:"updateMessages",value:function(e){var t=this;e=e||{},this._Chat.get(this.chatId).then(function(a){e.append?t.messages=t.messages.concat(a.data.res.record.messages[0]):t.messages=a.data.res.record.messages.concat(t.messages)})}},{key:"closeMessage",value:function(){this._$rootScope.$broadcast("showChats"),this._$state.go("app.chats.inbox")}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._Chat=t,this._Auth=r,this.chats=[],this.lastUpdated=0,this.chatsPage=0,this.currentUser=this._Auth.getUser()._id,this.getChats()}return e.$inject=["Chat","Auth"],r(e,[{key:"getChats",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.chatsPage,this._Chat.getSaved(this.currentUser,e).then(function(a){a.data.res.records?(e.append?t.chats=t.chats.concat(a.data.res.records):t.chats=a.data.res.records.concat(t.chats),t.lastUpdated=Date.now(),t.noMoreChats=!a.data.res.morePages):t.noMoreChats=!0})}},{key:"loadMore",value:function(){this.chatsPage++,this.lastUpdated=0,this.getChats({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this.chatsPages=0,this.lastUpdated=0,this._Chat=t,this._Auth=r,this.chats=[],this.currentUser=this._Auth.getUser()._id,this.getChats()}return e.$inject=["Chat","Auth"],r(e,[{key:"getChats",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.chatsPages,this._Chat.getRemoved(this.currentUser,e).then(function(a){a.data.res.records?(e.append?t.chats=t.chats.concat(a.data.res.records):t.chats=a.data.res.records.concat(t.chats),t.lastUpdated=Date.now(),t.noMoreChats=!a.data.res.morePages):t.noMoreChats=!0})}},{key:"loadMore",value:function(){this.chatsPages++,this.lastUpdated=0,this.getChats({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.home",{url:"/",controller:"HomeCtrl",controllerAs:"$ctrl",templateUrl:"./app/pages/home/home.html"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._Thread=t,this._Auth=r,this._isLoggedIn=this._Auth.isLoggedIn(),this.getHome(),this.threads=[],this.lastUpdated=0,this.homeSearch="",this.homePage=0}return e.$inject=["Thread","Auth"],r(e,[{key:"getHome",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.filter=this.homeSearch,e.page=this.homePage,this._isLoggedIn?this._Thread.authedHome(e).then(function(a){e.append?t.threads=t.threads.concat(a.data.res.records):t.threads=a.data.res.records.concat(t.threads),t.lastUpdated=Date.now(),t.noMoreThreads=!a.data.res.morePages}):this._Thread.unHome(e).then(function(a){t.homeSearch&&(t.threads=[]),e.append?t.threads=t.threads.concat(a.data.res.records):t.threads=a.data.res.records.concat(t.threads),t.lastUpdated=Date.now(),t.noMoreThreads=!a.data.res.morePages})}}]),e}();t.default=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(169),o=r(i),c=a(170),l=r(c),d=n.default.module("home",[]);d.config(o.default),d.controller("HomeCtrl",l.default),t.default=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s);a(171),a(156),a(190),a(205),a(163),a(181);var i=["home","auth","streams","threads","chats","profile"],o=n.default.module("app.pages",i);t.default=o},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r){"ngInject";a(this,e),this._User=t,this._$stateParams=r,this.userId=this._$stateParams.userId,this.activities=[],this.lastUpdated=0,this.newActivitiesCount=0,this.getActivities()}return e.$inject=["User","$stateParams"],r(e,[{key:"getActivities",value:function(){var e=this;this._User.activity(this.userId).then(function(t){e.activities=t.data.res.records})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._Comment=t,this._$stateParams=r,this._userId=this._$stateParams.userId,this._$timeout=s,this._$rootScope=n,this.comments=[],this.lastUpdated=0,this.commentsPage=0,this.getComments()}return e.$inject=["Comment","$stateParams","$timeout","$rootScope"],r(e,[{key:"getComments",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.commentsPage,this._Comment.userComments(this._userId,e).then(function(a){e.append?t.comments=t.comments.concat(a.data.res.records):t.comments=a.data.res.records.concat(t.comments),t.lastUpdated=Date.now(),t.noMoreComments=!a.data.res.morePages})}},{key:"loadMore",value:function(){this.commentsPage++,this.lastUpdated=0,this.getComments({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";var i=this;a(this,e),this._$dialog=t,this._$rootScope=s,this._$state=n,this.user=r,this._$rootScope.$on("profileUpdated",function(){i._$dialog.hide()})}return e.$inject=["$mdDialog","user","$rootScope","$state"],r(e,[{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";a(this,e),this._Chat=t,this._Toast=r,this._Auth=s,this._$dialog=n,this._message=i,this.user=o,this.data={message:"",creator:this._Auth.getUser()._Id,chatId:this._message._id}}return e.$inject=["Chat","Toast","Auth","$mdDialog","message","user"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"sendMessage",value:function(e){var t=this;e&&this._Chat.message(this._message._id,this.data).then(function(e){t._Toast.success("chat sent to "+t.user.username),t._$dialog.hide()})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._User=t,this._Toast=r,this._$dialog=s,this.user=n,this.data={password:"",newPassword:"",confirm:""}}return e.$inject=["User","Toast","$mdDialog","user"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"resetPassword",value:function(e){var t=this;e?this._User.profileReset(this.user._id,this.data).then(function(e){t.resetForm(),t._Toast.success("You have just reset your password, "+e.data.res.record.username),t._$dialog.hide()}):this._Toast.error("Hmm, your form is not valid")}},{key:"resetForm",value:function(){this.resetPasswordForm.$setUntouched(),this.resetPasswordForm.$setPristine()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{
value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._User=t,this._$location=r,this._$timeout=s,this._$dialog=n,this.search=""}return e.$inject=["User","$location","$timeout","$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"doSearch",value:function(e){var t=this;this._User.search(e).then(function(e){t.items=e.data.res.records})}},{key:"goToUser",value:function(e){this._$dialog.hide(),this._$location.url("/profile/"+e._id+"/overview")}},{key:"clearSearch",value:function(){var e=this;this._$timeout(function(){e.search=""},500)}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.profile",{url:"/profile/:userId",templateUrl:"./app/pages/profile/profile.tmpl.html",controller:"ProfileController",controllerAs:"$ctrl"}),e.state("app.profile.overview",{url:"/overview",templateUrl:"./app/pages/profile/overview/overview.html"}),e.state("app.profile.threads",{url:"/threads",templateUrl:"./app/pages/profile/threads/threads.html",controller:"ProfileThreadsController",controllerAs:"$ctrl"}),e.state("app.profile.comments",{url:"/comments",templateUrl:"./app/pages/profile/comments/comments.html",controller:"ProfileCommentsController",controllerAs:"$ctrl"}),e.state("app.profile.saved",{url:"/saved",templateUrl:"/app/pages/profile/saved/saved.html",controller:"ProfileSavedController",controllerAs:"$ctrl"}),e.state("app.profile.activity",{url:"/activity",templateUrl:"./app/pages/profile/activity/activity.html",controller:"ProfileActivityController",controllerAs:"$ctrl"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";var c=this;a(this,e),this._User=t,this._Auth=r,this._Thread=s,this._$stateParams=n,this._$rootScope=o,this._userId=n.userId,this._$state=i,this.currentState=this._$state.current.name,this.currentUser=this._Auth.getUser(),this.getUser(),this._$rootScope.$on("userFollowed",function(){c.getUser()}),this._$rootScope.$on("userUnfollowed",function(){c.getUser()}),this._$rootScope.$on("profileUpdated",function(){c.getUser()})}return e.$inject=["User","Auth","Thread","$stateParams","$state","$rootScope"],r(e,[{key:"getUser",value:function(){var e=this;this._User.single(this._userId).then(function(t){e.user=t.data.res.record,e.followers=t.data.res.followers,e.alreadyFollowing=t.data.res.alreadyFollowing})}}]),e}();t.default=s},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(184),o=r(i),c=a(179),l=r(c),d=a(180),u=r(d),m=a(183),h=r(m),p=a(174),f=r(p),g=a(182),v=r(g),$=a(173),b=r($),_=a(178),y=r(_),w=a(176),k=r(w),T=a(175),S=r(T),P=a(177),C=r(P),F=n.default.module("profile",[]);F.config(l.default),F.service("User",o.default),F.controller("ProfileController",u.default),F.controller("ProfileThreadsController",h.default),F.controller("ProfileCommentsController",f.default),F.controller("ProfileSavedController",v.default),F.controller("ProfileActivityController",b.default),F.controller("UsersSearchController",y.default),F.controller("ProfileMessageController",k.default),F.controller("ProfileEditController",S.default),F.controller("ProfileResetController",C.default),t.default=F},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";a(this,e),this._Thread=t,this._Comment=r,this._$stateParams=s,this._userId=this._$stateParams.userId,this.lastThreadUpdated=0,this.threadSearch="",this.threadPage=0,this.lastCommentUpdated=0,this.commentsSearch="",this.commentPage=0,this.threads=[],this.comments=[],this.getThreads(),this.getComments()}return e.$inject=["Thread","Comment","$stateParams"],r(e,[{key:"getThreads",value:function(e){var t=this;e=e||{},e.timestamp=this.lastThreadUpdated,e.page=this.threadPage,e.filter=this.threadSearch,this._Thread.userSaved(this._userId,e).then(function(a){t.threadSearch&&(t.threads=[]),e.append?t.threads=t.threads.concat(a.data.res.records):t.threads=a.data.res.records.concat(t.threads),t.lastThreadUpdated=Date.now(),t.noMoreThreads=!a.data.res.morePages})}},{key:"getComments",value:function(e){var t=this;e=e||{},e.timestamp=this.lastCommentUpdated,e.page=this.commentPage,e.filter=this.commentsSearch,this._Comment.userSaved(this._userId,e).then(function(a){t.commentsSearch&&(t.comments=[]),e.append?t.comments=t.comments.concat(a.data.res.records):t.comments=a.data.res.records.concat(t.comments),t.lastCommentUpdated=Date.now(),t.noMoreComments=!a.data.res.morePages})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i){"ngInject";a(this,e),this._Thread=t,this._User=r,this._$stateParams=s,this._$rootScope=i,this._userId=s.userId,this._$timeout=n,this.threads=[],this.lastUpdated=0,this.threadPage=0,this.getThreads()}return e.$inject=["Thread","User","$stateParams","$timeout","$rootScope"],r(e,[{key:"getThreads",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.threadPage,this._Thread.userThreads(this._userId,e).then(function(a){e.append?t.threads=t.threads.concat(a.data.res.records):t.threads=a.data.res.records.concat(t.threads),t.lastUpdated=Date.now(),t.noMoreThreads=!a.data.res.morePages})}},{key:"loadMore",value:function(){this.threadPage++,this.lastUpdated=0,this.getThreads({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$http=t}return e.$inject=["$http"],r(e,[{key:"single",value:function(e){return this._$http({url:"/users/"+e,method:"GET"})}},{key:"search",value:function(e){return this._$http({url:"/users/search/"+e,method:"GET"})}},{key:"follow",value:function(e){return this._$http({url:"/users/"+e+"/follow",method:"POST"})}},{key:"unfollow",value:function(e){return this._$http({url:"/users/"+e+"/unfollow",method:"POST"})}},{key:"activity",value:function(e){return this._$http({url:"/activity/feed/"+e,method:"GET"})}},{key:"notifications",value:function(){return this._$http({url:"/users/notifications",method:"GET"})}},{key:"markRead",value:function(e,t){return this._$http({url:"/users/notifications/"+e,method:"POST",data:t})}},{key:"profileReset",value:function(e,t){return this._$http({url:"/users/"+e+"/profileReset",method:"POST",data:t})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$dialog=t}return e.$inject=["$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._Stream=t,this._$location=r,this._$timeout=s,this._$dialog=n,this.search=""}return e.$inject=["Stream","$location","$timeout","$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"doSearch",value:function(e){var t=this;this._Stream.search(e).then(function(e){t.items=e.data.res.records})}},{key:"goToUser",value:function(e){this._$dialog.hide(),this._$location.url("streams/"+e._id)}},{key:"clearSearch",value:function(){var e=this;this._$timeout(function(){e.search=""},500)}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";var i=this;a(this,e),this._Stream=t,this._$timeout=r,this._$rootScope=s,this._$dialog=n,this.streams=[],this.streamsSearch="",this.streamPage=0,this.lastUpdated=0,this.getStreams(),this.getCount(),this._$rootScope.$on("streamCreated",function(){i._$dialog.hide(),i.getStreams({append:!0})})}return e.$inject=["Stream","$timeout","$rootScope","$mdDialog"],r(e,[{key:"getStreams",value:function(e){var t=this;e=e||{},e.filter=this.streamsSearch,e.timestamp=this.lastUpdated,e.page=this.streamPage,this._Stream.get(e).success(function(a){t.streamsSearch&&(t.streams=[]),e.append?t.streams=t.streams.concat(a.res.records):t.streams=a.res.records.concat(t.streams),0==a.res.morePages&&(t.noMoreStreams=!0),t.lastUpdated=Date.now()})}},{key:"getCount",value:function(){var e=this;this._Stream.count().then(function(t){e.streamCount=t.data.res.streamCount})}},{key:"loadMore",value:function(){this.streamPage++,this.lastUpdated=0,this.getStreams({append:!0})}},{key:"search",value:function(e,t){var a,r=this;e!==t&&(this.streams=[]),this._$timeout.cancel(a),a=this._$timeout(function(){e?r.getStreams():r.streamsSearchEnabled&&(r.lastUpdated=0,r.getStreams()),r.streamsSearchEnabled=""!==r.streamsSearch},500)}},{key:"byThreads",value:function(){this._$rootScope.$broadcast("streamByThreads")}},{key:"bySubscribers",value:function(){this._$rootScope.$broadcast("streamBySubscribers")}},{key:"byDate",value:function(){this._$rootScope.$broadcast("streamByDate")}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o,c,l,d){"ngInject";var u=this;a(this,e),this._Stream=r,this._Thread=s,this._Auth=t,this._isLoggedIn=this._Auth.isLoggedIn(),this._$rootScope=o,this._$dialog=i,this._$timeout=c,this._Upload=l,this._Toast=d,this.streamId=n.streamId,this.threads=[],this.threadsSearch="",this.threadPage=0,this.lastUpdated=0,this.getStream(),this.getThreads(),this._isLoggedIn&&(this.currentUser=this._Auth.getUser()._id),this._$rootScope.$on("threadCreated",function(){u._$dialog.hide(),u.getThreads({append:!0})})}return e.$inject=["Auth","Stream","Thread","$stateParams","$mdDialog","$rootScope","$timeout","Upload","Toast"],r(e,[{key:"getStream",value:function(){var e=this;this._Stream.single(this.streamId).then(function(t){e.stream=t.data.res.record,e.stream.moderators.forEach(function(t){e.currentUser==t._id&&(e.moderator=!0)})})}},{key:"getThreads",value:function(e){var t=this;e=e||{},e.filter=this.threadsSearch,e.timestamp=this.lastUpdated,e.page=this.threadPage,this._Thread.get(this.streamId,e).then(function(a){t.threadsSearch&&(t.threads=[]),e.append?t.threads=t.threads.concat(a.data.res.records):t.threads=a.data.res.records.concat(t.threads),t.noMoreThreads=!a.data.res.morePages,t.lastUpdated=Date.now()})}},{key:"uploadImage",value:function(e){var t=this;e&&this._Upload.upload({url:"/streams/uploadImage/"+this.streamId,file:e}).then(function(e){t._Toast.success("You have just uploaded an image for your stream")},function(e){parseInt(100*e.loaded/e.total);console.log(t.progressPercentage)})}},{key:"loadMore",value:function(){this.threadPage++,this.lastUpdated=0,this.getThreads({append:!0})}},{key:"search",value:function(e,t){var a,r=this;e!==t&&(this.threads=[]),this._$timeout.cancel(a),a=this._$timeout(function(){e?r.getThreads():r.threadsSearchEnabled&&(r.lastUpdated=0,r.getThreads()),r.threadsSearchEnabled=""!==r.threadsSearch},500)}},{key:"byScore",value:function(){this._$rootScope.$broadcast("threadByScore")}},{key:"byComments",value:function(){this._$rootScope.$broadcast("threadByComments")}},{key:"bySaves",value:function(){this._$rootScope.$broadcast("threadBySaves")}},{key:"byDate",value:function(){this._$rootScope.$broadcast("threadByDate")}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.streamsList",{url:"/streams",templateUrl:"./app/pages/streams/list/list.html",controller:"StreamsListCtrl",controllerAs:"$ctrl"}),e.state("app.singleStream",{url:"/streams/:streamId",templateUrl:"./app/pages/streams/single/single.html",controller:"StreamsSingleCtrl",controllerAs:"$ctrl"}),e.state("app.trendingStreams",{url:"/trending",templateUrl:"./app/pages/streams/trending/trending.html",controller:"TrendingStreamsCtrl",controllerAs:"$ctrl"}),e.state("app.subscribedStreams",{url:"/subscribed",templateUrl:"./app/pages/streams/subscribed/subscribed.html",controller:"SubscribedStreamsCtrl",controllerAs:"$ctrl"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(189),o=r(i),c=a(191),l=r(c),d=a(187),u=r(d),m=a(188),h=r(m),p=a(193),f=r(p),g=a(192),v=r(g),$=a(185),b=r($),_=a(186),y=r(_),w=n.default.module("streams",[]);w.config(o.default),w.service("Stream",l.default),w.controller("StreamsListCtrl",u.default),w.controller("StreamsSingleCtrl",h.default),w.controller("TrendingStreamsCtrl",f.default),w.controller("SubscribedStreamsCtrl",v.default),w.controller("StreamsCreateController",b.default),w.controller("StreamsSearchController",y.default),t.default=w},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$http=t}return e.$inject=["$http"],r(e,[{key:"create",value:function(e){return this._$http({url:"/streams",method:"POST",data:e})}},{key:"get",value:function(e){return this._$http({url:"/streams",method:"GET",params:{subscribed:e.subscribed,unsubscribed:e.unsubscribed,timestamp:e.timestamp,filter:e.filter}})}},{key:"count",value:function(){return this._$http({url:"/streams/count",method:"GET"})}},{key:"search",value:function(e){return this._$http({url:"/streams/search/"+e,method:"GET"})}},{key:"single",value:function(e){return this._$http({url:"/streams/"+e,method:"GET"})}},{key:"subscribe",value:function(e){return this._$http({url:"/streams/"+e+"/subscribe",method:"POST"})}},{key:"unsubscribe",value:function(e){return this._$http({url:"/streams/"+e+"/unsubscribe",method:"POST"})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Stream=t,this.lastUpdated=0,this.streamPage=0,this.streams=[],this.getStreams()}return e.$inject=["Stream"],r(e,[{key:"getStreams",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.page=this.streamPage,e.subscribed=!0,this._Stream.get(e).then(function(a){e.append?t.streams=t.streams.concat(a.data.res.records):t.streams=a.data.res.records.concat(t.streams),t.lastUpdated=Date.now(),t.noMoreStreams=!a.data.res.morePages})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._Stream=t,this.lastUpdated=0,this.streamPage=0,this.streamSearch="",this.streams=[],this.getStreams()}return e.$inject=["Stream"],r(e,[{key:"getStreams",value:function(e){var t=this;e=e||{},e.timestamp=this.lastUpdated,e.filter=this.streamSearch,e.page=this.streamPage,this._Stream.get(e).then(function(a){t.streamSearch&&(t.streams=[]),e.append?t.streams=t.streams.concat(a.data.res.records):t.streams=a.data.res.records.concat(t.streams),t.lastUpdated=Date.now(),t.noMoreStreams=!a.data.res.morePages})}},{key:"loadMore",value:function(){this.streamPage++,this.lastUpdated=0,this.getStreams({append:!0})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$http=t}return e.$inject=["$http"],r(e,[{key:"create",value:function(e){return this._$http({url:"/comments",method:"POST",data:e})}},{key:"single",value:function(e){return this._$http({url:"/comments/"+e,method:"GET"})}},{key:"get",value:function(e,t){return this._$http({url:"/comments/threads/"+e,method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"userComments",value:function(e,t){return this._$http({url:"/comments/user/"+e,method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"userSaved",value:function(e,t){return this._$http({url:"/comments/saved/"+e,method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"like",value:function(e){return this._$http({url:"/comments/"+e+"/like",method:"POST"})}},{key:"dislike",value:function(e){return this._$http({url:"/comments/"+e+"/dislike",method:"POST"})}},{key:"save",value:function(e){return this._$http({url:"/comments/"+e+"/save",method:"POST"})}},{key:"unsave",value:function(e){return this._$http({url:"/comments/"+e+"/unsave",method:"POST"})}},{key:"modify",value:function(e,t){return this._$http({url:"/comments/"+e+"/modify",method:"POST",data:t})}},{key:"remove",value:function(e){return this._$http({url:"/comments/"+e+"/remove",method:"DELETE"})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$dialog=t}return e.$inject=["$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._$dialog=t,this._Thread=r,this._Stream=s,this._Toast=n,this.getStreams(),this.data={title:"",content:"",link:"",stream:""}}return e.$inject=["$mdDialog","Thread","Stream","Toast"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"getStreams",value:function(e){var t=this;e=e||{},this._Stream.get(e).then(function(e){t.streams=e.data.res.records})}},{key:"create",value:function(e){var t=this;e?this._Thread.create(this.data).then(function(e){e.data.success?(t._Toast.success("You have just created a thread: "+e.data.res.record.title),t.close()):t._Toast.error(e.data.res.message)}):this._Toast.error("There seems to be an error with your form")}},{key:"makeLink",value:function(){this.hasLink=!this.hasLink}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$dialog=t}return e.$inject=["$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._$dialog=s,this._$state=r,this._Comment=t,this._item=n}return e.$inject=["Comment","$state","$mdDialog","item"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"delete",value:function(){var e=this;this._Comment.remove(this._item._id).then(function(t){e._$dialog.hide(),e._$state.reload()})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._$dialog=s,this._$state=r,this._Thread=t,this._item=n}return e.$inject=["Thread","$state","$mdDialog","item"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"delete",value:function(){var e=this;this._Thread.remove(this._item._id).then(function(t){e._$dialog.hide(),e._$state.reload()})}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";a(this,e),this._$dialog=r,this._Comment=t,this._item=s,this.getComment()}return e.$inject=["Comment","$mdDialog","item"],r(e,[{key:"getComment",value:function(){var e=this;this._Comment.single(this._item._id).then(function(t){e.comment=t.data.res.record})}},{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s){"ngInject";a(this,e),this._Thread=t,this._$dialog=r,this._item=s,this.getThread()}return e.$inject=["Thread","$mdDialog","item"],r(e,[{key:"getThread",value:function(){var e=this;this._Thread.single(this._item._id).then(function(t){e.thread=t.data.res.record})}},{key:"close",value:function(){this._$dialog.hide()}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n){"ngInject";a(this,e),this._Thread=t,this._$location=r,this._$timeout=s,this._$dialog=n,this.search=""}return e.$inject=["Thread","$location","$timeout","$mdDialog"],r(e,[{key:"close",value:function(){this._$dialog.hide()}},{key:"doSearch",value:function(e){var t=this;this._Thread.search(e).then(function(e){t.items=e.data.res.records})}},{key:"goToUser",value:function(e){this._$dialog.hide(),this._$location.url(e._id)}},{key:"clearSearch",value:function(){var e=this;this._$timeout(function(){e.search=""},500)}}]),e}();t.default=s},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t,r,s,n,i,o){"ngInject";var c=this;a(this,e),this._Thread=t,this._Comment=r,this._$rootScope=n,this._$dialog=i,this._$timeout=o,this.streamId=s.streamId,this.threadId=s.threadId,this.comments=[],this.commentPage=0,this.commentsSearch="",this.lastUpdated=0,this.getThread(),this.getComments(),this._$rootScope.$on("commentCreated",function(){c._$dialog.hide(),c.getComments({append:!0})})}return e.$inject=["Thread","Comment","$stateParams","$rootScope","$mdDialog","$timeout"],r(e,[{key:"getThread",value:function(){var e=this;this._Thread.single(this.threadId).then(function(t){e.thread=t.data.res.record})}},{key:"getComments",value:function(e){var t=this;e=e||{},e.filter=this.commentsSearch,e.timestamp=this.lastUpdated,e.page=this.commentPage,this._Comment.get(this.threadId,e).then(function(a){t.commentsSearch&&(t.comments=[]),e.append?t.comments=t.comments.concat(a.data.res.records):t.comments=a.data.res.records.concat(t.comments),t.noMoreComments=!a.data.res.morePages,t.lastUpdated=Date.now()})}},{key:"loadMore",value:function(){this.commentPage++,this.lastUpdated=0,this.getComments({append:!0})}},{key:"search",value:function(e,t){var a,r=this;e!=t&&(this.comments=[]),this._$timeout.cancel(a),a=this._$timeout(function(){e?r.getComments():r.commentsSearchEnabled&&(r.lastUpdated=0,r.getComments()),r.commentsSearchEnabled=""!==r.commentsSearch},500)}}]),e}();t.default=s},function(e,t){"use strict";function a(e){"ngInject";e.state("app.singleThread",{url:"/:streamId/:threadId",templateUrl:"./app/pages/threads/single/single.html",controller:"threadsSingleCtrl",controllerAs:"$ctrl"})}a.$inject=["$stateProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=a(2),n=r(s),i=a(204),o=r(i),c=a(206),l=r(c),d=a(194),u=r(d),m=a(203),h=r(m),p=a(201),f=r(p),g=a(199),v=r(g),$=a(200),b=r($),_=a(198),y=r(_),w=a(197),k=r(w),T=a(195),S=r(T),P=a(196),C=r(P),F=a(202),j=r(F),I=n.default.module("threads",[]);I.config(o.default),I.service("Thread",l.default),I.service("Comment",u.default),I.controller("threadsSingleCtrl",h.default),I.controller("EditThreadDialogController",f.default),I.controller("DeleteThreadDialogController",v.default),I.controller("DeleteCommentController",y.default),I.controller("EditCommentController",b.default),I.controller("ThreadsCreateController",k.default),I.controller("CommentsCreateController",S.default),I.controller("CreateThreadAnywhereController",C.default),I.controller("ThreadsSearchController",j.default),t.default=I},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(){function e(t){"ngInject";a(this,e),this._$http=t}return e.$inject=["$http"],r(e,[{key:"create",value:function(e){return this._$http({url:"/threads",method:"POST",data:e})}},{key:"get",value:function(e,t){return this._$http({url:"/threads/"+e+"/threads",method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"search",value:function(e){return this._$http({url:"/threads/search/"+e,method:"GET"})}},{key:"unHome",value:function(e){return this._$http({url:"/threads/unauthHome",method:"GET",params:{timestamp:e.timestamp,filter:e.filter,page:e.page}})}},{key:"authedHome",value:function(e){return this._$http({url:"/threads/authedHome",method:"GET",params:{timestamp:e.timestamp,filter:e.filter,page:e.page}})}},{key:"userThreads",value:function(e,t){return this._$http({url:"/threads/user/"+e,method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"userSaved",value:function(e,t){return this._$http({url:"/threads/saved/"+e,method:"GET",params:{timestamp:t.timestamp,filter:t.filter,page:t.page}})}},{key:"single",value:function(e){return this._$http({
url:"./threads/"+e,method:"GET"})}},{key:"save",value:function(e){return this._$http({url:"/threads/"+e+"/save",method:"POST"})}},{key:"unsave",value:function(e){return this._$http({url:"/threads/"+e+"/unsave",method:"POST"})}},{key:"like",value:function(e){return this._$http({url:"/threads/"+e+"/like",method:"POST"})}},{key:"unlike",value:function(e){return this._$http({url:"/threads/"+e+"/dislike",method:"POST"})}},{key:"modify",value:function(e,t){return this._$http({url:"/threads/"+e+"/modify",method:"POST",data:t})}},{key:"remove",value:function(e){return this._$http({url:"/threads/"+e+"/remove",method:"DELETE"})}}]),e}();t.default=s}]);